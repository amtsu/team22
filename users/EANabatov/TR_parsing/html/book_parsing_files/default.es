function menuAims_activate(n){var t=$(n),u=t.data("submenuId"),f=$("#"+u),i=t.parent(),e=i.outerHeight(),o=i.outerWidth(),r;t.data("submenuId")!=undefined&&(r=i.data("dir")=="left",f.css({display:"block",top:0,left:r?-320:o-2,height:+e}),t.first("li").addClass(r?"hover-left":"hover-right"))}function menuAims_deactivate(n){var t=$(n),i=t.data("submenuId"),r=$("#"+i);r.css("display","none");t.first("li").removeClass("hover-right");t.first("li").removeClass("hover-left")}function GetProductsForVk(n){for(var t,i,u=[],f=n.length,r=0;r<f;r++)t=n[r],t.SendVk&&(i={id:t.SeoId,price:t.UnitPrice},t.VkRecommendedIds&&t.VkRecommendedIds.length>0&&(i.recommended_ids=t.VkRecommendedIds),u.push(i));return u}function FindProductBySeoId(n,t){for(var i,f,r=[],e=n.length,u=0;u<e;u++)if(i=n[u],i.SeoId==t&&i.SendVk)return f={id:i.SeoId,price:i.UnitPrice},r.push(f),r;return r}function getSeoId(n,t){var i="A";return n==1?i="B":n==2?i="D":n==7&&(i="C"),t+i}function vk_click_send_event(n,t,i){var e=getSeoId(n,t),r=window.MbPageInfo,f,u;r&&n==0&&r.Products&&r.Products.length>0?(f=FindProductBySeoId(r.Products,e),f.length==1&&(u={products:f,business_value:1e3,currency_code:"RUR",category_ids:f[0].CategoryId},r.R46SearchString&&r.R46SearchString.length>0&&(u.search_string=r.R46SearchString),VK.Retargeting.ProductEvent(r.VkDinRetPriceId,i,u))):n==0&&(u={products:[{id:e}]},VK.Retargeting.ProductEvent(r.VkDinRetPriceId,i,u))}var createAgeConfirmationDialog,$menuAims,moi,JqueryMbMenu,mbMenu,html_m;!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)}(function(n){n.extend(n.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=n.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){i.settings.submitHandler&&(i.submitButton=t.target);n(t.target).hasClass("cancel")&&(i.cancelSubmit=!0);void 0!==n(t.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(t){function r(){var u,r;return i.settings.submitHandler?(i.submitButton&&(u=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),r=i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&u.remove(),void 0!==r?r:!1):!0}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,r()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):r():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i;return n(this[0]).is("form")?t=this.validate().form():(t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t})),t},removeAttrs:function(t){var i={},r=this;return n.each(t.split(/\s/),function(n,t){i[t]=r.attr(t);r.removeAttr(t)}),i},rules:function(t,i){var e,s,f,u,o,h,r=this[0];if(t)switch(e=n.data(r.form,"validator").settings,s=e.rules,f=n.validator.staticRules(r),t){case"add":n.extend(f,n.validator.normalizeRule(i));delete f.messages;s[r.name]=f;i.messages&&(e.messages[r.name]=n.extend(e.messages[r.name],i.messages));break;case"remove":return i?(h={},n.each(i.split(/\s/),function(t,i){h[i]=f[i];delete f[i];"required"===i&&n(r).removeAttr("aria-required")}),h):(delete s[r.name],f)}return u=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),u.required&&(o=u.required,delete u.required,u=n.extend({required:o},u),n(r).attr("aria-required","true")),u.remote&&(o=u.remote,delete u.remote,u=n.extend(u,{remote:o})),u}});n.extend(n.expr[":"],{blank:function(t){return!n.trim(""+n(t).val())},filled:function(t){return!!n.trim(""+n(t).val())},unchecked:function(t){return!n(t).prop("checked")}});n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t);this.currentForm=i;this.init()};n.validator.format=function(t,i){return 1===arguments.length?function(){var i=n.makeArray(arguments);return i.unshift(t),n.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(n,i){t=t.replace(new RegExp("\\{"+n+"\\}","g"),function(){return i})}),t)};n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(n){this.lastActive=n;this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,n,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(n)))},onfocusout:function(n){!this.checkable(n)&&(n.name in this.submitted||!this.optional(n))&&this.element(n)},onkeyup:function(n,t){(9!==t.which||""!==this.elementValue(n))&&(n.name in this.submitted||n===this.lastElement)&&this.element(n)},onclick:function(n){n.name in this.submitted?this.element(n):n.parentNode.name in this.submitted&&this.element(n.parentNode)},highlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){"radio"===t.type?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function i(t){var r=n.data(this[0].form,"validator"),u="on"+t.type.replace(/^validate/,""),i=r.settings;i[u]&&!this.is(i.ignore)&&i[u].call(r,this[0],t)}this.labelContainer=n(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm);this.wrappers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var t,r=this.groups={};n.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/));n.each(i,function(n,i){r[i]=t})});t=this.settings.rules;n.each(t,function(i,r){t[i]=n.validator.normalizeRule(r)});n(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",i).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",i);this.settings.invalidHandler&&n(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler);n(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var n=0,t=this.currentElements=this.elements();t[n];n++)this.check(t[n]);return this.valid()},element:function(t){var u=this.clean(t),i=this.validationTargetFor(u),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[u.name]:(this.prepareElement(i),this.currentElements=n(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),n(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.wrappers)),this.showErrors(),r},showErrors:function(t){if(t){n.extend(this.errorMap,t);this.errorList=[];for(var i in t)this.errorList.push({message:t[i],element:this.findByName(i)[0]});this.successList=n.grep(this.successList,function(n){return!(n.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(n){var i,t=0;for(i in n)t++;return t},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(n){n.not(this.wrappers).text("");this.addWrapper(n).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===n.grep(this.errorList,function(n){return n.element.name===t.name}).length&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!t.objectLength(n(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=n([]);this.toHide=n([]);this.currentElements=n([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.wrappers)},prepareElement:function(n){this.reset();this.toHide=this.errorsFor(n)},elementValue:function(t){var i,u=n(t),r=t.type;return"radio"===r||"checkbox"===r?n("input[name='"+t.name+"']:checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?!1:u.val():(i=u.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(t){t=this.validationTargetFor(this.clean(t));var i,r,u,f=n(t).rules(),s=n.map(f,function(n,t){return t}).length,e=!1,h=this.elementValue(t);for(r in f){u={method:r,parameters:f[r]};try{if(i=n.validator.methods[r].call(this,h,t,u.parameters),"dependency-mismatch"===i&&1===s){e=!0;continue}if(e=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!i)return this.formatAndAdd(t,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+u.method+"' method.",o),o;}}if(!e)return this.objectLength(f)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(n,t){var i=this.settings.messages[n];return i&&(i.constructor===String?i:i[t])},findDefined:function(){for(var n=0;n<arguments.length;n++)if(void 0!==arguments[n])return arguments[n];return void 0},defaultMessage:function(t,i){return this.findDefined(this.customMessage(t.name,i),this.customDataMessage(t,i),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i],"<strong>Warning: No message defined for "+t.name+"<\/strong>")},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i.method),u=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,i.parameters,t):u.test(r)&&(r=n.validator.format(r.replace(u,"{$1}"),i.parameters));this.errorList.push({message:r,element:t,method:i.method});this.errorMap[t.name]=r;this.submitted[t.name]=r},addWrapper:function(n){return this.settings.wrapper&&(n=n.add(n.parent(this.settings.wrapper))),n},defaultShowErrors:function(){for(var i,t,n=0;this.errorList[n];n++)t=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,t.element,this.settings.errorClass,this.settings.validClass),this.showLabel(t.element,t.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.wrappers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var u,o,e,r=this.errorsFor(t),s=this.idOrName(t),f=n(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(i)):(r=n("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(i||""),u=r,this.settings.wrapper&&(u=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(u):this.settings.errorPlacement?this.settings.errorPlacement(u,n(t)):u.insertAfter(t),r.is("label")?r.attr("for",s):0===r.parents("label[for='"+s+"']").length&&(e=r.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),f?f.match(new RegExp("\\b"+e+"\\b"))||(f+=" "+e):f=e,n(t).attr("aria-describedby",f),o=this.groups[t.name],o&&n.each(this.groups,function(t,i){i===o&&n("[name='"+t+"']",this.currentForm).attr("aria-describedby",r.attr("id"))})));!i&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t));this.toShow=this.toShow.add(r)},errorsFor:function(t){var r=this.idOrName(t),u=n(t).attr("aria-describedby"),i="label[for='"+r+"'], label[for='"+r+"'] *";return u&&(i=i+", #"+u.replace(/\s+/g,", #")),this.errors().filter(i)},idOrName:function(n){return this.groups[n.name]||(this.checkable(n)?n.name:n.id||n.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(n){return/radio|checkbox/i.test(n.type)},findByName:function(t){return n(this.currentForm).find("[name='"+t+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(n,t){return this.dependTypes[typeof n]?this.dependTypes[typeof n](n,t):!0},dependTypes:{boolean:function(n){return n},string:function(t,i){return!!n(t,i.form).length},"function":function(n,t){return n(t)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},startRequest:function(n){this.pending[n.name]||(this.pendingRequest++,this.pending[n.name]=!0)},stopRequest:function(t,i){this.pendingRequest--;this.pendingRequest<0&&(this.pendingRequest=0);delete this.pending[t.name];i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(n(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},attributeRules:function(t){var r,i,u={},e=n(t),f=t.getAttribute("type");for(r in n.validator.methods)"required"===r?(i=t.getAttribute(r),""===i&&(i=!0),i=!!i):i=e.attr(r),/min|max/.test(r)&&(null===f||/number|range|text/.test(f))&&(i=Number(i)),i||0===i?u[r]=i:f===r&&"range"!==f&&(u[r]=!0);return u.maxlength&&/-1|2147483647|524288/.test(u.maxlength)&&delete u.maxlength,u},dataRules:function(t){var i,r,u={},f=n(t);for(i in n.validator.methods)r=f.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==r&&(u[i]=r);return u},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,u){if(u===!1)return void delete t[r];if(u.param||u.depends){var f=!0;switch(typeof u.depends){case"string":f=!!n(u.depends,i.form).length;break;case"function":f=u.depends.call(i,i)}f?t[r]=void 0!==u.param?u.param:!0:delete t[r]}}),n.each(t,function(r,u){t[r]=n.isFunction(u)?u(i):u}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var i;t[this]&&(n.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(i=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(i[0]),Number(i[1])]))}),n.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var i={};n.each(t.split(/\s/),function(){i[this]=!0});t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i;n.validator.messages[t]=void 0!==r?r:n.validator.messages[t];i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var u=n(i).val();return u&&u.length>0}return this.checkable(i)?this.getLength(t,i)>0:n.trim(t).length>0},email:function(n,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)},url:function(n,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},date:function(n,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(n).toString())},dateISO:function(n,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(n)},number:function(n,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(n)},digits:function(n,t){return this.optional(t)||/^\d+$/.test(n)},creditcard:function(n,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(n))return!1;var i,f,e=0,r=0,u=!1;if(n=n.replace(/\D/g,""),n.length<13||n.length>19)return!1;for(i=n.length-1;i>=0;i--)f=n.charAt(i),r=parseInt(f,10),u&&(r*=2)>9&&(r-=9),e+=r,u=!u;return e%10==0},minlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r},maxlength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||r>=u},rangelength:function(t,i,r){var u=n.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||u>=r[0]&&u<=r[1]},min:function(n,t,i){return this.optional(t)||n>=i},max:function(n,t,i){return this.optional(t)||i>=n},range:function(n,t,i){return this.optional(t)||n>=i[0]&&n<=i[1]},equalTo:function(t,i,r){var u=n(r);return this.settings.onfocusout&&u.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){n(i).valid()}),t===u.val()},remote:function(t,i,r){if(this.optional(i))return"dependency-mismatch";var u,e,f=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),f.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=f.message,r="string"==typeof r&&{url:r}||r,f.old===t?f.valid:(f.old=t,u=this,this.startRequest(i),e={},e[i.name]=t,n.ajax(n.extend(!0,{url:r,mode:"abort",port:"validate"+i.name,dataType:"json",data:e,context:u.currentForm,success:function(r){var o,e,h,s=r===!0||"true"===r;u.settings.messages[i.name].remote=f.originalMessage;s?(h=u.formSubmitted,u.prepareElement(i),u.formSubmitted=h,u.successList.push(i),delete u.invalid[i.name],u.showErrors()):(o={},e=r||u.defaultMessage(i,"remote"),o[i.name]=f.message=n.isFunction(e)?e(t):e,u.invalid[i.name]=!0,u.showErrors(o));f.valid=s;u.stopRequest(i,s)}},r)),"pending")}}});n.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead.";};var i,t={};n.ajaxPrefilter?n.ajaxPrefilter(function(n,i,r){var u=n.port;"abort"===n.mode&&(t[u]&&t[u].abort(),t[u]=r)}):(i=n.ajax,n.ajax=function(r){var f=("mode"in r?r:n.ajaxSettings).mode,u=("port"in r?r:n.ajaxSettings).port;return"abort"===f?(t[u]&&t[u].abort(),t[u]=i.apply(this,arguments),t[u]):i.apply(this,arguments)});n.extend(n.fn,{validateDelegate:function(t,i,r){return this.bind(i,function(i){var u=n(i.target);if(u.is(t))return r.apply(u,arguments)})}})}),function(n){function t(t){var f=n(this),r=null,u=[],e=null,o=null,i=n.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:n.noop,exit:n.noop,activate:n.noop,deactivate:n.noop,exitMenu:n.noop},t),c=3,l=300,a=function(n){u.push({x:n.pageX,y:n.pageY});u.length>c&&u.shift()},v=function(){o&&clearTimeout(o);i.exitMenu(this)&&(r&&i.deactivate(r),r=null)},y=function(){o&&clearTimeout(o);i.enter(this);h(this)},p=function(){i.exit(this)},w=function(){s(this)},s=function(n){n!=r&&(r&&i.deactivate(r),i.activate(n),r=n)},h=function(n){var t=b();t?o=setTimeout(function(){h(n)},t):s(n)},b=function(){function v(n,t){return(t.y-n.y)/(t.x-n.x)}var h,c;if(!r||!n(r).is(i.submenuSelector))return 0;var t=f.offset(),y={x:t.left,y:t.top-i.tolerance},w={x:t.left+f.outerWidth(),y:y.y},p={x:t.left,y:t.top+f.outerHeight()+i.tolerance},a={x:t.left+f.outerWidth(),y:p.y},s=u[u.length-1],o=u[0];if(!s||(o||(o=s),o.x<t.left||o.x>a.x||o.y<t.top||o.y>a.y)||e&&s.x==e.x&&s.y==e.y)return 0;h=w;c=a;i.submenuDirection=="left"?(h=p,c=y):i.submenuDirection=="below"?(h=a,c=p):i.submenuDirection=="above"&&(h=y,c=w);var b=v(s,h),k=v(s,c),d=v(o,h),g=v(o,c);return b<d&&k>g?(e=s,l):(e=null,0)};f.mouseleave(v).find(i.rowSelector).mouseenter(y).mouseleave(p).click(w);n(document).mousemove(a)}n.fn.menuAim=function(n){return this.each(function(){t.call(this,n)}),this}}(jQuery),function(n){function r(){var n=document.createElement("input"),t="onpaste";return n.setAttribute(t,""),"function"==typeof n[t]?"paste":"input"}var t,u=r()+".mask",i=navigator.userAgent,f=/iphone/i.test(i),e=/android/i.test(i);n.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"};n.fn.extend({caret:function(n,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof n?(t="number"==typeof t?t:n,this.each(function(){this.setSelectionRange?this.setSelectionRange(n,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",n),i.select())})):(this[0].setSelectionRange?(n=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),n=0-i.duplicate().moveStart("character",-1e5),t=n+i.text.length),{begin:n,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(i,r){var a,l,o,h,c,s;return!i&&this.length>0?(a=n(this[0]),a.data(n.mask.dataName)()):(r=n.extend({placeholder:n.mask.placeholder,completed:null},r),l=n.mask.definitions,o=[],h=s=i.length,c=null,n.each(i.split(""),function(n,t){"?"==t?(s--,h=n):l[t]?(o.push(RegExp(l[t])),null===c&&(c=o.length-1)):o.push(null)}),this.trigger("unmask").each(function(){function y(n){for(;s>++n&&!o[n];);return n}function g(n){for(;--n>=0&&!o[n];);return n}function d(n,t){var u,i;if(!(0>n)){for(u=n,i=y(t);s>u;u++)if(o[u]){if(!(s>i&&o[u].test(v[i])))break;v[u]=v[i];v[i]=r.placeholder;i=y(i)}p();a.caret(Math.max(c,n))}}function nt(n){for(var u,f,t=n,i=r.placeholder;s>t;t++)if(o[t]){if(u=y(t),f=v[t],v[t]=i,!(s>u&&o[u].test(f)))break;i=f}}function tt(n){var u,i,t,r=n.which;8===r||46===r||f&&127===r?(u=a.caret(),i=u.begin,t=u.end,0==t-i&&(i=46!==r?g(i):t=y(i-1),t=46===r?y(t):t),b(i,t),d(i,t-1),n.preventDefault()):27==r&&(a.val(k),a.caret(0,w()),n.preventDefault())}function it(t){var u,h,f,c=t.which,i=a.caret();t.ctrlKey||t.altKey||t.metaKey||32>c||c&&(0!=i.end-i.begin&&(b(i.begin,i.end),d(i.begin,i.end-1)),u=y(i.begin-1),s>u&&(h=String.fromCharCode(c),o[u].test(h)&&(nt(u),v[u]=h,p(),f=y(u),e?setTimeout(n.proxy(n.fn.caret,a,f),0):a.caret(f),r.completed&&f>=s&&r.completed.call(a))),t.preventDefault())}function b(n,t){for(var i=n;t>i&&s>i;i++)o[i]&&(v[i]=r.placeholder)}function p(){a.val(v.join(""))}function w(n){var t,f,i=a.val(),u=-1;for(t=0,pos=0;s>t;t++)if(o[t]){for(v[t]=r.placeholder;pos++<i.length;)if(f=i.charAt(pos-1),o[t].test(f)){v[t]=f;u=t;break}if(pos>i.length)break}else v[t]===i.charAt(pos)&&t!==h&&(pos++,u=t);return n?p():h>u+1?(a.val(""),b(0,s)):(p(),a.val(a.val().substring(0,u+1))),h?t:c}var a=n(this),v=n.map(i.split(""),function(n){if("?"!=n)return l[n]?r.placeholder:n}),k=a.val();a.data(n.mask.dataName,function(){return n.map(v,function(n,t){return o[t]&&n!=r.placeholder?n:null}).join("")});a.attr("readonly")||a.one("unmask",function(){a.unbind(".mask").removeData(n.mask.dataName)}).bind("focus.mask",function(){clearTimeout(t);var n;k=a.val();n=w();t=setTimeout(function(){p();n==i.length?a.caret(0,n):a.caret(n)},10)}).bind("blur.mask",function(){w();a.val()!=k&&a.change()}).bind("keydown.mask",tt).bind("keypress.mask",it).bind(u,function(){setTimeout(function(){var n=w(!0);a.caret(n);r.completed&&n==a.val().length&&r.completed.call(a)},0)});w()}))}})}(jQuery);$(document).ready(function(){var t=$("#mb_hdr"),u,r,i,n;if(t)try{u=t.offset().top;$(window).scroll(function(){var n=$(document).scrollTop();n>u?t.addClass("fixed2"):t.removeClass("fixed2")})}catch(f){}$(document).on("click",".header__main__gamburger",function(){$("body").toggleClass("mobMenu-active");$(this).toggleClass("header__main__gamburger-open");$(".mainMenu").toggleClass("mainMenu-active");$(".header__main__phones-showMob, .menuMob__menu-block").toggle()});$(document).on("click",".menuMob__menu__list__item__subLink",function(){$(this).closest(".mainMenu__list__item").find(".subMainMenu__list").addClass("subMainMenu__list-show");$(this).closest(".mainMenu__list__item").addClass("mainMenu__list__item-active");$(this).closest(".mainMenu__list__item").find(".menuMob__menu__subMenu__linkBack").show();$(".mainMenu__list__item").not($(this).closest(".mainMenu__list__item")).hide();$(this).closest(".mainMenu__list__item").find(".menuMob__menu__list__item__subLink").hide();$(".menuMob__menu__list-bottom").hide()});$(document).on("click",".menuMob__menu__subMenu__linkBack",function(){$(this).closest(".mainMenu__list__item").find(".subMainMenu__list").removeClass("subMainMenu__list-show");$(this).closest(".mainMenu__list__item").removeClass("mainMenu__list__item-active");$(this).closest(".mainMenu__list__item").find(".menuMob__menu__subMenu__linkBack").hide();$(".mainMenu__list__item").not($(this).closest(".mainMenu__list__item")).css("display","");$(this).closest(".mainMenu__list__item").find(".menuMob__menu__list__item__subLink").show();$(".menuMob__menu__list-bottom").show()});$(document).on("click",".menuMob__menu__list__item__subSubLink",function(){$(this).closest(".subMainMenu__list__item").find(".subSubMainMenu__list").addClass("subSubMainMenu__list-show");$(this).closest(".subMainMenu__list__item").addClass("subMainMenu__list__item-active");$(this).closest(".subMainMenu__list__item").find(".menuMob__menu__subSubMenu__linkBack").show();$(this).closest(".mainMenu__list__item").find(".menuMob__menu__subMenu__linkBack").hide();$(this).closest(".mainMenu__list__item").find(".mainMenu__list__item__link").hide();$(this).closest(".mainMenu__list__item").find(".menuMob__menu__list__item__subSubLink").hide();$(".subMainMenu__list__item").not($(this).closest(".subMainMenu__list__item")).hide()});$(document).on("click",".menuMob__menu__subSubMenu__linkBack",function(){$(this).closest(".subMainMenu__list__item").find(".subSubMainMenu__list").removeClass("subSubMainMenu__list-show");$(this).closest(".subMainMenu__list__item").removeClass("subMainMenu__list__item-active");$(this).closest(".subMainMenu__list__item").find(".menuMob__menu__subSubMenu__linkBack").hide();$(this).closest(".mainMenu__list__item").find(".menuMob__menu__subMenu__linkBack").show();$(this).closest(".mainMenu__list__item").find(".mainMenu__list__item__link").show();$(this).closest(".mainMenu__list__item").find(".menuMob__menu__list__item__subSubLink").show();$(".subMainMenu__list__item").not($(this).closest(".subMainMenu__list__item")).show()});$(".email_js").click(function(){try{return yaCounter36120.reachGoal("mail_footer_header"),!0}catch(n){}});$(".tel_js").click(function(){try{return yaCounter36120.reachGoal("tel_header_footer"),!0}catch(n){}});r=$(".js-button-top");$(window).scroll(function(){$(this).scrollTop()>600?r.fadeIn("slow"):r.fadeOut("slow")});i=$(".js-search-bar");$(window).scroll(function(){var n=$(".header").outerHeight(!0)-i.outerHeight(!0);$(this).scrollTop()>=n?i.addClass("fixed"):i.removeClass("fixed")});$(".js-top-slider").slick({dots:!0,infinite:!0,autoplay:!0,autoplaySpeed:4e3});n=$(".js-books-slider");n.on("init",function(n,t){t.slideCount<t.options.slidesToShow?$(this).addClass("centered"):$(this).removeClass("centered")});n.on("resize",function(n,t){t.slideCount<t.options.slidesToShow?$(this).addClass("centered"):$(this).removeClass("centered")});n.on("setPosition",function(n,t){t.slideCount<t.options.slidesToShow?$(this).addClass("centered"):$(this).removeClass("centered")});n.slick({mobileFirst:!0,settings:"unslick",responsive:[{breakpoint:299,settings:"unslick"},{breakpoint:619,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0,variableWidth:!0}},{breakpoint:1015,settings:{slidesToShow:5,slidesToScroll:5,infinite:!0,dots:!0,variableWidth:!0}},{breakpoint:1219,settings:{slidesToShow:6,slidesToScroll:6,infinite:!0,dots:!0,variableWidth:!0}}]});$(".js-books-detailed-slider").on("init",function(){var n=$(this).find(".slick-current .book-preview").html();$(this).find(".slick-list").prepend('<div class="col-md-3 books__slider-item_fake"><div class="book-preview book-preview_detailed"><\/div><\/div>');$(this).find(".books__slider-item_fake .book-preview").html(n);$(this).find(".books__slider-item_fake").addClass("active")});$(".js-books-detailed-slider").on("beforeChange",function(){$(this).find(".books__slider-item_fake").removeClass("active")});$(".js-books-detailed-slider").on("afterChange",function(){var n=$(this).find(".slick-current .book-preview").html();$(this).find(".books__slider-item_fake").addClass("active");$(this).find(".books__slider-item_fake .book-preview").html(n)});$(".js-books-detailed-slider").on("setPosition",function(){var n=$(this).find(".slick-current .book-preview").html();$(this).find(".slick-list").prepend('<div class="col-md-3 books__slider-item_fake"><div class="book-preview book-preview_detailed"><\/div><\/div>');$(this).find(".books__slider-item_fake .book-preview").html(n);$(this).find(".books__slider-item_fake").addClass("active")});$(".js-books-detailed-slider").slick({mobileFirst:!0,settings:"unslick",responsive:[{breakpoint:299,settings:"unslick"},{breakpoint:619,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0,variableWidth:!0}},{breakpoint:1015,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!0,variableWidth:!0}},{breakpoint:1219,settings:{slidesToShow:4,slidesToScroll:1,infinite:!0,dots:!0,variableWidth:!0,waitForAnimate:!0}}]});$(".js-news-slider").slick({mobileFirst:!0,settings:"unslick",responsive:[{breakpoint:299,settings:"unslick"},{breakpoint:1015,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0,dots:!0}}]});$(".js-book-month-slider").slick({fade:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,asNavFor:".js-book-month-info-slider"});$(".js-book-month-info-slider").slick({fade:!0,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,asNavFor:".js-book-month-slider"});$(window).resize(function(){$(".js-top-slider").slick("resize");n.slick("resize");$(".js-news-slider").slick("resize");$(".js-book-month-slider").slick("resize");$(".js-book-month-info-slider").slick("resize");$(".js-books-detailed-slider").slick("resize")});$(window).on("orientationchange",function(){$(".js-top-slider").slick("resize");n.slick("resize");$(".js-news-slider").slick("resize");$(".js-book-month-slider").slick("resize");$(".js-book-month-info-slider").slick("resize");$(".js-books-detailed-slider").slick("resize")});$(function(){$(".js-load-more").on("click",function(n){n.preventDefault();var t=$(this).parent().parent().find(".js-catalog .js-catalog-item"),i=$(this).parent().parent().find(".js-catalog .js-catalog-item:hidden"),r=$(this).parent().parent().find(".js-catalog .js-catalog-item:visible");i.slice(0,4).show();t.length==r.length+4&&$(this).fadeOut("slow")})});$("document, .js-backdrop, .js-mobile-menu-close").click(function(){$(".js-mobile-menu").slideUp();$("body").css("overflow","");$(".js-backdrop").fadeOut()});$(".js-mobile-menu-toggle").click(function(){return $(".js-backdrop").fadeIn(),$("body").css("overflow","hidden"),$(".js-mobile-menu").slideDown(),!1});$(".js-mobile-nav-item-toggle").click(function(n){n.preventDefault();var t=$(this);t.parent().hasClass("active")?(t.parent().removeClass("active"),t.parent().find(".nav__subnav").slideUp(350)):(t.parent().siblings().find(".nav__subnav").slideUp(350),t.parent().siblings().removeClass("active"),t.parent().addClass("active"),t.parent().find(".nav__subnav").slideDown(350))});$(".js-panel-toggle").click(function(n){n.preventDefault();var t=$(this);t.parent().hasClass("collapsed")?(t.parent().find(".js-panel-content").slideDown(350),t.parent().removeClass("collapsed"),t.parent().addClass("edit")):(t.parent().find(".js-panel-content").slideUp(350),t.parent().addClass("collapsed"),t.parent().removeClass("edit"))});$(window).resize(function(){if($(window).width()>=996)$(".js-aside").removeClass("collapsed"),$(".js-aside").find(".js-panel-content").slideDown(350);else{var n=$(".js-aside");n.each(function(){var n=$(this);n.hasClass("edit")||(n.addClass("collapsed"),n.find(".js-panel-content").slideUp(350))})}});$(".book-preview__button").hover(function(){$(this).closest(".book-preview").addClass("book-preview_active")},function(){$(this).closest(".book-preview").removeClass("book-preview_active")});$(".js-sort-by-toggle").click(function(n){n.preventDefault();var t=$(this).attr("data-sort");t=="up"?$(this).attr("data-sort","down"):$(this).attr("data-sort","up")});$(".js-amount-input").change(function(){var n=$(this).val(),t;n=n==""||n<1||!parseInt(n)?1:n;try{$(this).data("max")&&(t=parseInt($(this).data("max")),parseInt(n)>t&&(n=t))}catch(i){}$(this).val(n)});$(".js-amount-control").on("click",function(){var t=$(this),i=t.parent().find(".js-amount-input").val(),r=999,n;try{t.data("max")&&(r=parseInt(t.data("max")))}catch(u){}i>=r&&(i=r);t.attr("data-value")=="inc"?(n=parseFloat(i)+1,n>=r&&(n=r)):n=i>1?parseFloat(i)-1:1;t.parent().find(".js-amount-input").val(n);t.parent().find(".js-amount-input").attr("value",n)});$(".js-range-slider").slider({min:0,max:1e4,step:1,range:!0,values:[150,1e4],slide:function(n,t){for(var i=0;i<t.values.length;++i)$("input.js-range-value[data-index="+i+"]").val(t.values[i])}});$("input.js-range-value").change(function(){var n=$(this);$(".js-range-slider").slider("values",n.data("index"),n.val())});$(".js-bonus-slider").slider({range:"min",value:1250,min:0,max:3400,slide:function(n,t){$(".js-bonus-number").text(t.value)}});$(".js-bonus-number").text($(".js-bonus-slider").slider("value"));$(".js-book-details-more").click(function(n){n.preventDefault();var t=$(this);t.closest(".js-book-details").hasClass("collapsed")?(t.closest(".js-book-details").removeClass("collapsed"),t.children().text("Закрыть дополнительную информацию")):(t.closest(".js-book-details").addClass("collapsed"),t.children().text("Дополнительная информация"))});$(".js-book-description-more").click(function(n){n.preventDefault();var t=$(this);t.parent().hasClass("collapsed")?(t.parent().removeClass("collapsed"),t.children().text("Закрыть описание")):(t.parent().addClass("collapsed"),t.children().text("Читать дальше"))});$(".js-ext-description-more").click(function(n){n.preventDefault();var t=$(this),i=t.data("text1"),r=t.data("text2");t.parent().hasClass("collapsed")?(t.parent().removeClass("collapsed"),t.children().text(r)):(t.parent().addClass("collapsed"),t.children().text(i))});$(".js-rating-stars-reset").click(function(n){n.preventDefault();var t=$(this);$(this).parent().parent().find(".js-rating-stars input").prop("checked",!1)});$(".js-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%<\/a> could not be loaded.',titleSrc:function(n){return n.el.attr("title")}},callbacks:{buildControls:function(){this.arrowLeft&&this.contentContainer.append(this.arrowLeft.add(this.arrowRight))}}});$(".js-gallery2").magnificPopup({delegate:"a.gal",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%<\/a> could not be loaded.',titleSrc:function(n){return n.el.attr("title")}},callbacks:{buildControls:function(){this.contentContainer.append(this.arrowLeft.add(this.arrowRight))}}});$("select").not(".not-chosen").chosen({disable_search_threshold:10}).change(function(){var n=$(this).find("option"),t=$(this).val();n.each(function(){$(this).val()==t?$(this).attr("selected",!0):$(this).attr("selected",!1)})});$('input[type="checkbox"], input[type="radio"].js-radio').not(".not-icheck").iCheck();$('input[type="checkbox"]').on("ifClicked",function(){$(this).attr("checked")?$(this).attr("checked",!1):$(this).attr("checked",!0)});$(".js-subscribe-check").on("ifClicked",function(){$(this).parent('[class*="icheckbox"]').hasClass("checked")?$(this).closest(".js-subscribe-item").removeClass("account-subscribe__item_active"):$(this).closest(".js-subscribe-item").addClass("account-subscribe__item_active")});$(".js-toggle-all-subscribe").on("click",function(){var t=$(this).attr("data-set"),n=$(this).attr("data-state");chkSiblingStateSet=$(this).siblings().attr("data-state");n=="check"?($(this).attr("data-state","uncheck"),$('input[name="'+t+'"]:checkbox').each(function(){$(this).iCheck("check")})):($(this).attr("data-state","check"),$('input[name="'+t+'"]:checkbox').each(function(){$(this).iCheck("uncheck")}));n=$(this).attr("data-state");chkSiblingStateSet=$(this).siblings().attr("data-state");chkSiblingStateSet=="check"&&n=="check"?$(this).parent().parent().next().find(".js-subscribe-item").removeClass("account-subscribe__item_active"):$(this).parent().parent().next().find(".js-subscribe-item").addClass("account-subscribe__item_active")});$(".js-popup-cart-close").on("click",function(n){n.preventDefault(n);$(this).parent(".js-popup-cart").fadeOut(350)});$(".js-button-ebook").on("click",function(n){n.preventDefault();$(".dark-overlay").fadeIn(350);var t=$(this).data("divid");$("#pop_div"+t).fadeIn(350)});$(document).on("click",".js-popup-cart-close","",function(n){n.preventDefault(n);$(".dark-overlay").fadeOut(350);$(this).parent().fadeOut(350)});$(".book__preorder-button").on("click",function(n){n.preventDefault();$(".dark-overlay").fadeIn(350);$(".js-popup-with-overlay").fadeIn(350)});$(".js-show-more").on("click",function(n){n.preventDefault();$(".news__slider-item").fadeIn("fast")});$(function(){$('a[href*="#"]:not([href="#"], [role="tab"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=$(this.hash);if(n=n.length?n:$("[name="+this.hash.slice(1)+"]"),n.length)return $("html, body").animate({scrollTop:n.offset().top},1e3),!1}})});$(".owl-boock").owlCarousel({lazyLoad:!0,nav:!0,dots:!1,responsive:{0:{paginationSpeed:400,items:1,loop:!0,mouseDrag:!0},1011:{items:3,loop:!1,mouseDrag:!1}}})});createAgeConfirmationDialog=function(){$(".dark-overlay").fadeIn(350);$("#age-form-confirmation").length||($('<div style="width:450px; height:250px; max-height:500px;" id="age-form-confirmation" class="popup-cart js-popup-with-overlay"> <a href="#" class="popup-cart__close icon-close js-popup-cart-close"><\/a> <div style="width:99%;height:99%;"><img class="age-form-confirmation-progress" src="/i/ajax-loader.gif" /> <iframe onload="ageverifyiframeOnLoad(this,\'age-form-confirmation\');" id="age-verify-iframe" style="border:0; width:100%; height:100%; position:relative;" src="/submit/userage/?mode=iframe" scrolling="no"><\/iframe> <\/div> <\/div>').appendTo("body"),$(".age-form-confirmation-progress").show());$("#age-form-confirmation").fadeIn(350)};window.ageverifyiframeOnLoad=function(n,t){document.getElementById(t).style.height=n.contentWindow.document.body.offsetHeight+40+"px";$(".age-form-confirmation-progress").hide()};var createPopUpMessage=function(n){var t=$("<div><\/div>").addClass("popup-cart js-popup-cart popup-cart-alert").appendTo("body"),i=$("<a><\/a>").addClass("popup-cart__close icon-close js-popup-cart-close").appendTo(t),r=$("<div>"+n+"<\/div>").addClass("popup-cart__text h4").appendTo(t);t.fadeIn(350);setTimeout(function(){t.fadeOut(350);t.remove()},900)},createPopUp=function(n){var t=$("<div><\/div>").addClass("popup-cart js-popup-cart popup-cart-alert").appendTo("body"),i=$("<a><\/a>").addClass("popup-cart__close icon-close js-popup-cart-close").appendTo(t),r=$("<div>"+n+"<\/div>").addClass("popup-cart__text h4").appendTo(t);t.fadeIn(350)},createPopUpOK=function(n){var t=$("<div><\/div>").addClass("popup-cart js-popup-cart popup-cart-alert").appendTo("body"),i=$("<a><\/a>").addClass("popup-cart__close icon-close js-popup-cart-close").appendTo(t),r=$("<div>"+n+"<\/div>").addClass("popup-cart__text h4").appendTo(t),u=$('<div><input type="button" class="popup_ok" style="color:black; font-weight:bold;" value="OK" /><\/div>').appendTo(t);t.fadeIn(350)},GetReloadHmtl=function(n,t){try{$.ajax({type:"GET",url:n.toLowerCase(),beforeSend:function(){},success:function(n){t.html(n)},error:function(){}})}catch(i){}},GetReloadHmtlExt=function(n,t,i,r){try{$.ajax({type:"GET",url:n.toLowerCase(),beforeSend:function(){i&&i()},success:function(n){t.replaceWith(n);r&&r()},error:function(){r&&r()}})}catch(u){}},PostReloadHmtl=function(n,t,i){try{$.ajax({type:"POST",url:t,data:n,beforeSend:function(){},success:function(n){i.html(n)},error:function(){}})}catch(r){}},radioValueByName=function(n){if(n=="")return"";var t=$("input[name="+n+"]:checked");return t==undefined||t.val()==undefined||t.val().trim()==""?"":t.val().trim()},textValueById=function(n){if(n=="")return"";var t=$("#"+n);return t==undefined||t.val()==undefined||t.val().trim()==""?"":t.val().trim()};$(document).ready(function(){function u(n){n.html("Оформить");n.attr("href","/profile/basket/");n.removeClass("tocart_btn");n.removeClass("book-preview__buy-button");n.addClass("book-preview__tocart")}function s(n,t){t?n.css("border","1px solid green"):n.css("border","1px solid red")}var a,o,n;$(document).on("click",".popup_ok","",function(){var n=$(this).parent("div").parent("div");n.fadeOut(350);n.remove()});$(".js-progress").click(function(){$(this).html('<img src="/i/ajax-loader-rec.gif" style="vertical-align: middle;" />')});$(".helper_popup").click(function(){$(".dark-overlay").fadeIn(350);var n=$(this).data("div");$("#"+n).fadeIn(350)});$(".accordion").find(".acccheader").click(function(){$(this).next().slideToggle(0);$(this).parent().find(".acccontent").not($(this).next()).slideUp(0)});$(".helper_image").tooltip({items:"img, [data-div], [title]",content:function(){var n=$(this),t,i;return n.is("[data-div]")?(t=$(this).data("div"),i=$("#"+t).html(),i):n.is("[title]")?n.attr("title"):n.is("img")?n.attr("alt"):void 0}});var t=function(n){if(n>0){$("#basket_full").addClass("active");$("#basket_mobile").addClass("active");try{$("#basket_circle").show();$("#basket_circle").html(n>0?n+"":"")}catch(t){}}else{$("#basket_full").removeClass("active");$("#basket_mobile").removeClass("active");try{$("#basket_circle").hide()}catch(t){}}$("#basket_full_cnt").html(n>0?n+"":"");$("#basket_mobile_cnt").html(n>0?n+"":"")},f=function(n){if(n>0){$("#wish_full").addClass("active");$("#wish_mobile").addClass("active");try{$("#wish_circle").show();$("#wish_circle").html(n>0?n+"":"")}catch(t){}}else{$("#wish_full").removeClass("active");$("#wish_mobile").removeClass("active");try{$("#wish_circle").hide()}catch(t){}}$("#wish_full_cnt").html(n>0?n+"":"");$("#wish_mobile_cnt").html(n>0?n+"":"")},i=function(){createPopUpMessage("Товар помещен в корзину")},h=function(){createPopUpMessage("Товар помещен в избранное")},c=function(){createPopUpMessage("Товар удален из избранного")},l=function(n,t,i){$.post("/basket/addwish",{producttype:n,productid:t}).done(function(r){r.IsSuccess&&(f(r.cnt),i&&i.addClass("active").attr("title","В избранном"),h(),window.Add_to_wish_send_event(n,t))})},r=function(){},e=function(n,u,f){$.post("/basket/add",{producttype:n,productid:u,q:f}).done(function(f){f.IsSuccess&&f.cnt>0&&(t(f.cnt),i(),r(),window.Add_to_cart_send_event(n,u))})};a=function(n){n.html("ОФОРМИТЬ ЗАКАЗ");n.attr("href","/profile/basket/");n.removeClass("tocart_btn")};$(document).on("click",".popup-cart-close-button","",function(){$(".dark-overlay").fadeOut(350);$(".js-popup-with-overlay").fadeOut(350)});$(document).on("click",".tocart_btn","",function(n){var f=$(this),s=f.data("producttype"),o=f.data("productid"),l=0,y,a,p,w,v,h,c,b;if(n.preventDefault(),s==7)window.location="/ebooks/book/"+o;else{if($("#productquantity").val()&&(l=$("#productquantity").val()),s==1){y="list";try{y=$(this).data("src")}catch(k){}if(y=="cart")a=$("input[name=buk_price]:checked").val(),a||(a=$("#buk_price_").val()),$.post("/basket/add",{producttype:1,productid:o,q:l,p:a}).done(function(n){n.result==1&&n.cnt>0&&($(".dark-overlay").fadeOut(350),$("#buk_price_selector").fadeOut(350),t(n.cnt),i(),r(),window.Add_to_cart_send_event(1,o),f.data("reload")==1&&window.location.reload(),u(f))});else if(p=$(this).data("prices"),p!=""){for(w=$("#BukId"),w.val(o),v=p.split(";"),h=$("#price-selector"),h.find("option")&&h.find("option").remove(),c=0,b=v.length;c<b;c++)h.append('<option value="'+v[c]+'">'+v[c]+" руб.<\/option>");h.trigger("chosen:updated");$(".dark-overlay").fadeIn(350);$("#buk_price_selector").fadeIn(350)}else e(s,o,l),f.data("reload")==1&&window.location.reload(),u(f)}s!=1&&(e(s,o,l),f.data("reload")==1&&window.location.reload(),u(f))}});$("#EbookRedirectToPayForm").submit(function(){var n=$("#ebook_agree");return n.length?n.prop("checked"):!0});$(".buy_ebook_btn").click(function(){var n=$(this).data("producttype"),t=$(this).data("productid");$("#popup-cart-redirecttopay").length&&($("#RedirectToPay_pid").length&&$("#RedirectToPay_pid").val(t),$("#RedirectToPay_pt").length&&$("#RedirectToPay_pt").val(n),$(".dark-overlay").fadeIn(350),$("#popup-cart-redirecttopay").fadeIn(350))});$("#buk_tocart").click(function(){var n=$("#BukId").val(),u=$("#price-selector").val();$.post("/basket/add",{producttype:1,productid:n,q:1,p:u}).done(function(u){u.result==1&&u.cnt>0&&($(".dark-overlay").fadeOut(350),$("#buk_price_selector").fadeOut(350),t(u.cnt),i(),r(),window.Add_to_cart_send_event(1,n))})});$(".js-preorder").on("click",function(n){var t,i,r,f;n.preventDefault();t=$(this);i=t.data("preorderform");$(".dark-overlay").fadeIn(350);r=$("#"+i);r.fadeIn(350);var e=t.data("idbtn"),u=$('.book-preview__title-link[data-idtitle="'+e+'"]').html(),o=$("#"+i+"id_news_preorder");o.val(t.data("newsid"));f=$("#"+i+"id_news_preorder_title");f.val(u);r.find(".preorder_title").first().html(u)});$(".preorderbutton").on("click",function(n){n.preventDefault();var t=$(this),i=t.closest("form"),r=i.serialize();$.ajax({type:"POST",url:"/productpreorder/ajax",data:r,beforeSend:function(){t.attr("disabled","disabled");t.val("Отправка заказа...");$(".js-popup-cart").fadeOut(350)},success:function(){t.removeAttr("disabled");t.val("Заказать");$(".dark-overlay").fadeOut(350);$(".js-popup-with-overlay").fadeOut(350);createPopUpMessage("Предзаказ отправлен")},error:function(){t.removeAttr("disabled");t.val("Заказать")}})});o=function(n,t,i,r){$.post("/basket/removewish",{producttype:n,productid:t}).done(function(n){n.IsSuccess&&(f(n.cnt),r.removeClass("active").attr("title","В избранное"),c(),i&&i.remove())})};$(document).on("click",".js-fav","",function(){var i=$(this),n=$(this).data("producttype"),t=$(this).data("productid"),r;i.hasClass("active")?(r=$("#div_fav_"+t+"_"+n),o(n,t,r,i),window.Remove_from_wish_send_event(n,t)):l(n,t,i)});n={};$(".link_gallery").each(function(){var t=parseInt($(this).attr("data-group"),10);n[t]||(n[t]=[]);n[t].push(this)});$.each(n,function(){$(this).magnificPopup({type:"image",closeOnContentClick:!0,closeBtnInside:!1,gallery:{enabled:!0}})});$(".nu").magnificPopup({type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%<\/a> could not be loaded.',titleSrc:function(n){return n.el.attr("title")}},callbacks:{buildControls:function(){this.arrowLeft&&this.contentContainer.append(this.arrowLeft.add(this.arrowRight))}}});$(".icon-print").on("click",function(){var n=$(this).data("url");window.open(n,"popupWindow","width=900,height=800,scrollbars=yes")});$(".popupWindow").on("click",function(){var n=$(this).data("url");window.open(n,"popupWindow","width=900,height=800,scrollbars=yes")});$("*[data-autocomplete-url]").each(function(n,t){var r=$(t).data("autocomplete-url"),u=$(t).data("minlength"),i=$(t).data("hiddenid"),f=$(t).data("showapply"),e=$("#"+i);$(t).autocomplete({source:function(n,t){$.ajax({url:r,dataType:"json",cache:!1,timeout:5e3,data:"name="+n.term,success:function(n){t($.map(n,function(n){return{id:n.Id,label:n.Name,value:n.Name}}))}})},autoFocus:!0,delay:500,minLength:u,select:function(n,t){try{e.val(t.item.id)}catch(u){}if(f==1){var r=$("#"+i+"_apply");r.css("display","");r.focus()}}})});$(".dark-overlay, .popup-cart-close-button").on("click",function(){$(".dark-overlay").fadeOut(350);$(".popup-cart").fadeOut(350)});$("a.removeparam").click(function(n){n.stopImmediatePropagation()});$(".auth_link_login").on("click",function(n){$("#popup-cart-auth").length&&(n.preventDefault(),$(".dark-overlay").fadeIn(350),$("#popup-cart-auth").fadeIn(350))});$(document).on("click",".book-month__buy-button","",function(){var n=$(this).data("producttype"),r=$(this).data("productid");$.post("/basket/add",{producttype:n,productid:r,q:0}).done(function(n){n.IsSuccess&&n.cnt>0&&(t(n.cnt),i())})});$(".theme_selected").each(function(){try{$("#theme_"+$(this).val()).css("color","red")}catch(n){}});$(".js-order-call").on("click",function(n){n.preventDefault();$(".dark-overlay").fadeIn(350);$("#callback_div").fadeIn(350)});$("#CallbackPhone").mask("+7 (999) 999-99-99");$.validator.addMethod("phoneformat",function(n,t,i){var r=!1;return n.trim().length>0&&(r=i.test(n)),s($(t),r),r},"неверно указан номер телефона");$.validator.addMethod("fioformat",function(n,t,i){var r=!1;return n.trim().length>0&&(r=i.test(n)),s($(t),r),r},"неверно указано имя");$(".callback_form").validate({rules:{CallbackPhone:{phoneformat:/^\+?\d\ ?\(\d\d\d\)\ ?\d\d\d-\d\d-\d\d$/,required:!0},Fio:{fioformat:/^[a-z a-яёй]+$/i,required:!0}},messages:{Fio:{required:"укажите имя"},CallbackPhone:{required:"укажите номер телефона"}},submitHandler:function(n,t){var i,r;return t.preventDefault(),i=$("#js_order_call_btn"),i.html('<img src="/i/ajax-loader-rec.gif" style="vertical-align: middle;" />'),i.attr("disabled","disabled"),r=i.data("url"),$.ajax({type:"POST",url:r,data:$(n).serialize(),beforeSend:function(){},success:function(n){n.IsSuccess?setTimeout(function(){$(".dark-overlay").fadeOut(350);$("#callback_div").fadeOut(350);i.html("Заказать");i.removeAttr("disabled");createPopUp("Спасибо! Мы свяжемся в Вами в ближайшее время")},2e3):($(".dark-overlay").fadeOut(350),$("#callback_div").fadeOut(350),i.html("Заказать"),i.removeAttr("disabled"),createPopUp("Заказ не отправлен. Попробуйте позже."))},error:function(){$(".dark-overlay").fadeOut(350);$("#callback_div").fadeOut(350);i.html("Заказать");i.removeAttr("disabled");createPopUp("Заказ не отправлен. Попробуйте позже.")}}),!1}});$(document).on("click","a.pager_ajax",function(n){n.preventDefault();var t=$(this),r=t.parent().parent().data("ajaxreplace"),i=$("#"+r),u=t.attr("href"),f=function(){i.prepend('<img src="/i/ajax-loader-transparent.gif" /> Загрузка...');$("html, body").animate({scrollTop:0},600)};GetReloadHmtlExt(u.toLowerCase(),i,f)});$(document).on("click",".js-preorder-dialog",function(n){var t,i,r;n.preventDefault();var u=$(this),t=$("#container-preorder-dialog"),i=$("div.dark-overlay"),r=$("#preorderData");t.length||(t=$('<div id="container-preorder-dialog" class="popup-cart js-popup-with-overlay"><\/div>'),$("body").append(t));i.length||(i=$('<div class="dark-overlay"><\/div>'),$("body").append(i));r.length||(r=$('<div id="#preorderData"><input type="hidden" id="preorderData_name" /><input type="hidden" id="preorderData_email" /><input type="hidden" id="preorderData_phone" /><\/div>'),$("body").append(r));$("#container-preorder-dialog").html('<img src="/i/ajax-loader-transparent.gif" /> Загрузка...');$(".dark-overlay").fadeIn(350);$("#container-preorder-dialog").fadeIn(350);$.ajax({type:"POST",url:"/productpreorder/dialog/",data:{title:u.attr("title"),name:$("#preorderData_name").val(),email:$("#preorderData_email").val(),phone:$("#preorderData_phone").val()},beforeSend:function(){},success:function(n){$("#container-preorder-dialog").html(n)},error:function(){$("#container-preorder-dialog").html("Ошибка. Попробуйте позже.")}})});$(document).on("click",".js-postdialog-button",function(n){var i;n.preventDefault();var t=$(this),r=t.closest("form"),u=r.serialize();t.attr("disabled","disabled");i=$("#preorder-dialog-error");$.ajax({type:"POST",url:"/productpreorder/postdialog/",data:u,beforeSend:function(){},success:function(n){n.IsSuccess?(i.html(""),$(".dark-overlay").fadeOut(350),$(".js-popup-with-overlay").fadeOut(350),createPopUpMessage("Предзаказ отправлен")):$("#preorder-dialog-error").html(n.Message);t.removeAttr("disabled");$("#preorderData_name").val(n.Name);$("#preorderData_email").val(n.Email);$("#preorderData_phone").val(n.Phone)},error:function(){t.removeAttr("disabled")}})})});$menuAims=$(".vert-sub");$(".menu>li").mouseover(function(){$(".vert-sub").css("display","none");$(this).find(".vert-sub").css("display","block")});$(".vert-sub").mouseleave(function(){$(this).css("display","none")});$menuAims.each(function(){$(this).data("aim")=="1"&&$(this).menuAim({activate:menuAims_activate,deactivate:menuAims_deactivate,submenuDirection:$(this).data("dir")})});moi=function(){function n(n,t,i,r){var u,f;this.Text=t;this.Link=i;this.Id=n;u=this;r!=null&&r.length>0&&(this.Childs=[],f=this.Childs,r.forEach(function(n){var t=n;t.Parent=u;f.push(n)}))}return n.prototype.hasChildrens=function(){return this.Childs!=null&&this.Childs.length>0},n.prototype.getA=function(){return'<a data-lid="'+this.Id+'" href="'+this.Link+'">'+this.Text+"<\/a>"+(this.hasChildrens()?"/*exp*/":"")},n.prototype.addChildren=function(n){this.Childs!=null&&this.Childs.length>0?this.Childs.push(n):(this.Childs=[],this.Childs.push(n))},n}();JqueryMbMenu=function(){function n(n,t){this.beginId=0;this.Items=n;this.ExpandButton='<span class="exp icon-caret-right"><\/span>';this.ExpandButtonClass="exp";this.ExpandButtonClassToggle="icon-caret-right icon-caret-down";t.ExpandButton&&(this.ExpandButton=t.ExpandButton);t.ExpandButtonClass&&(this.ExpandButtonClass=t.ExpandButtonClass);t.ExpandButtonClassToggle&&(this.ExpandButtonClassToggle=t.ExpandButtonClassToggle);this.About="developed by mrdimonster@gmail.com"}return n.prototype.render=function(n){if(n==null)return null;var t=$("<ul><\/ul>"),i=this,r=i.ExpandButton;return n.forEach(function(n){var f=$("<li>"+n.getA().replace("/*exp*/",r)+"<\/li>"),u=n.Childs;u!=null&&u.length>0&&f.append(i.render(u));t.append(f)}),t},n.prototype.ThisItems=function(){return this.Items!=null?this.Items:(this.Items=[],this.Items)},n.prototype.getnewid=function(){return this.beginId++,this.beginId},n.prototype.deserializeItemsFromUl=function(n,t){if(n!=null){var i=this,r=this.ThisItems(),u=n.children("li");u.each(function(n,u){var s=$(u),e=s.children("a"),h=e.attr("href")!=undefined?e.attr("href"):"#",f=new moi(i.getnewid(),e.html(),h,null),o;t==null?r.push(f):(f.Parent=t,t&&t.addChildren(f));o=s.find("ul").first();o.length>0&&i.deserializeItemsFromUl(o,f)})}},n.prototype.loadFromHtmlUlElement=function(n,t){this.deserializeItemsFromUl(n,null);t&&(this.ReplaceCurrent=n)},n.prototype.loadFormHtmlString=function(n){var t=$(n);this.deserializeItemsFromUl(t,null)},n.prototype.loadFromFullHtmlString=function(n){this.HtmlMenu=n},n.prototype.renderTo=function(n,t){var i,r;this.HtmlMenu!=null&&this.HtmlMenu.length>0?(i=$(this.HtmlMenu),i.attr("id",t),n.append(i),this.ThisJquery=i):(i=this.render(this.Items),i.attr("id",t),this.ReplaceCurrent!=null?this.ReplaceCurrent.replaceWith(i):n.append(i),this.ThisJquery=i);r=this;$(document).on("click","."+this.ExpandButtonClass,function(){var n=$(this),t=n.parent("li").find("ul").first();t.length>0&&(t.toggle("slow"),n.toggleClass(r.ExpandButtonClassToggle))})},n.prototype.openRow=function(n,t){var u=this.ThisJquery,i=u.find("a[href='"+n+"']").first(),r;i&&(t&&i.css("color",t),r=i.parent("li"),r&&this.openRecursive(r))},n.prototype.openRecursive=function(n){var u="."+this.ExpandButtonClass,t,i,r;if(n)t=n.parent("ul").parent("li").first(),t.find(u).length>0&&(i=t.find(u).first(),r=i.parent("li").find("ul").first(),r.length>0&&(r.toggle("slow"),i.toggleClass(this.ExpandButtonClassToggle))),t.parent("ul").parent("li").first().length>0&&this.openRecursive(t);else return},n}();$("#mobilemenu1").length>0&&(mbMenu=new JqueryMbMenu(null,{}),html_m='<ul><li><a href="/books/">Книги<\/a><span class="exp icon-caret-right"><\/span><ul><li><a href="/books/">Книги печатные<\/a><span class="exp icon-caret-right"><\/span><ul><li><a href="/books/fiction/">Художественная литература<\/a><\/li><li><a href="/books/exceptional/">Нехудожественная литература<\/a><\/li><li><a href="/books/childrens-literature/">Детская литература<\/a><\/li><li><a href="/books/literature-in-foreign-languages/">Литература на иностранных языках<\/a><\/li><li><a href="/books/travels-hobby-leisure/">Путешествия. Хобби. Досуг<\/a><\/li><li><a href="/books/books-on-art/">Книги по искусству<\/a><\/li><li><a href="/books/biographies-memoirs-publicism/">Биографии.Мемуары.Публицистика<\/a><\/li><li><a href="/books/fiction/science-fiction/comics-manga-graphic-novel/">Комиксы.Манга.Графический роман<\/a><\/li><\/ul><\/li><li><a href="/ebooks/">Электронные книги<\/a><span class="exp icon-caret-right"><\/span><ul><li><a href="/ebooks/themes/proza/prose_rus_classic/">Русская классика<\/a><\/li><li><a href="/ebooks/themes/detektivy_boeviki/detective/">Детективы<\/a><\/li><li><a href="/ebooks/themes/delovaya_literatura/economics/">Экономика<\/a><\/li><li><a href="/ebooks/themes/periodic/periodic/">Журналы<\/a><\/li><li><a href="/ebooks/themes/school/posobiya/">Пособия<\/a><\/li><li><a href="/ebooks/themes/science/sci_history/">История<\/a><\/li><li><a href="/ebooks/themes/science/sci_politics/">Политика<\/a><\/li><li><a href="/ebooks/themes/publ/nonf_biography/">Биографии и мемуары<\/a><\/li><li><a href="/ebooks/themes/publ/nonf_publicism/">Публицистика<\/a><\/li><\/ul><\/li><li><a href="/ebooks/audio/">Аудиокниги<\/a><\/li><li><a href="/books/exclusive-and-collective-editions/">Коллекционные издания<\/a><span class="exp icon-caret-right"><\/span><ul><li><a href="/books/exclusive-and-collective-editions/collection-editions/collection-editions-foreign-prose-poetry/">Зарубежная проза и поэзия<\/a><\/li><li><a href="/books/exclusive-and-collective-editions/collection-editions/collection-editions-russian-prose-poetry/">Русская проза и поэзия<\/a><\/li><li><a href="/books/exclusive-and-collective-editions/collection-editions/collection-editions-children-s-literature/">Детская литература<\/a><\/li><li><a href="/books/exclusive-and-collective-editions/collection-editions/collection-editions-history/">История<\/a><\/li><li><a href="/books/exclusive-and-collective-editions/collection-editions/collection-editions-art/">Искусство<\/a><\/li><li><a href="/books/exclusive-and-collective-editions/collection-editions/collection-editions-encyclopedias/">Энциклопедии<\/a><\/li><li><a href="/books/exclusive-and-collective-editions/collection-editions/collection-editions-cooking-wine-making/">Кулинария. Виноделие<\/a><\/li><li><a href="/books/exclusive-and-collective-editions/collection-editions/ollection-editions-aphorisms/">Афоризмы<\/a><\/li><li><a href="#">Другие тематики<\/a><\/li><\/ul><\/li><li><a href="/pod/">Печать по требованию<\/a><\/li><li><a href="/articles/">"Москва" рекомендует<\/a><\/li><li><a href="/authors/">Авторы<\/a><\/li><li><a href="/series/">Серии<\/a><\/li><li><a href="/publishers/">Издательства<\/a><\/li><li><a href="/genres/">Жанр<\/a><\/li><li><a href="/gift_book/">Книги в подарок<\/a><\/li><\/ul><\/li><li><a href="/bookinist/">Антикварные книги<\/a><span class="exp icon-caret-right"><\/span><ul><li><a href="/bookinist/themes/childrens/">Детская литература<\/a><\/li><li><a href="/bookinist/themes/collected-works/">Собрания сочинений<\/a><\/li><li><a href="/bookinist/themes/art/">Искусство<\/a><\/li><li><a href="/bookinist/themes/history-russia-before-1917/">История России до 1917 года<\/a><\/li><li><a href="/bookinist/themes/fiction-foreign/">Художественная литература. Зарубежная<\/a><\/li><li><a href="/bookinist/themes/fiction-russian/">Художественная литература. Русская<\/a><\/li><li><a href="/bookinist/themes/">Все тематики<\/a><\/li><li><a href="/bookinist/preorder/">Предварительный заказ<\/a><\/li><li><a href="/bookinist/comission/">Прием книг на комиссию<\/a><\/li><\/ul><\/li><li><a href="/gifts/">Подарки<\/a><span class="exp icon-caret-right"><\/span><ul><li><a href="/gift_book/">Книги в подарок<\/a><\/li><li><a href="/books/exclusive-and-collective-editions/">Коллекционные книги<\/a><\/li><li><a href="/gifts/gifts/work-of-authorship/">Авторские работы<\/a><\/li><li><a href="/gifts/gifts/business-gifts/">Бизнес-подарки<\/a><\/li><li><a href="/gifts/gifts/literary-gifts/">Литературные подарки<\/a><\/li><li><a href="/gifts/gifts/miniature-editions/">Миниатюрные издания<\/a><\/li><li><a href="/gifts/gifts/gifts-for-children/">Подарки детям<\/a><\/li><li><a href="/gifts/gifts/gift-pens/">Подарочные ручки<\/a><\/li><li><a href="/gifts/">Все тематики<\/a><\/li><li><a href="/gifts/gift-certificates/">Подарочные сертификаты<\/a><\/li><li><a href="/gifts/">Подарочные наборы<\/a><\/li><li><a href="/gifts/ideas/">Идеи подарков<\/a><\/li><\/ul><\/li><li><a href="#">Прочее<\/a><span class="exp icon-caret-right"><\/span><ul><li><a href="/books/office-and-other/cd-rom/">CD<\/a><span class="exp icon-caret-right"><\/span><ul><li><a href="/books/office-and-other/cd-rom/audiobooks/">Аудиокниги<\/a><\/li><li><a href="/books/office-and-other/cd-rom/audiobooks-for-children/">Аудиокниги для детей<\/a><\/li><li><a href="/books/office-and-other/cd-rom/foreign-languages-on-cd/">Иностранные языки на CD<\/a><\/li><li><a href="/books/office-and-other/cd-rom/cd-movies/">CD-кино<\/a><\/li><li><a href="/books/office-and-other/cd-rom/cd-music/">CD-музыка<\/a><\/li><li><a href="/books/office-and-other/cd-rom/">Все тематики<\/a><\/li><\/ul><\/li><li><a href="/books/office-and-other/stationery/">Канцелярия<\/a><span class="exp icon-caret-right"><\/span><ul><li><a href="/books/office-and-other/stationery/business-man-s-accessories/">Аксессуары делового человека<\/a><\/li><li><a href="/books/office-and-other/stationery/designer-accessories-and-unusual-office/">Необычная канцелярия<\/a><\/li><li><a href="/books/office-and-other/stationery/paper-and-white-accessories/">Бумажно-беловые принадлежности<\/a><\/li><li><a href="/books/office-and-other/stationery/school-written-supplies/">Письменные принадлежности<\/a><\/li><li><a href="/books/office-and-other/stationery/products-for-artists/">Товары для художников<\/a><\/li><\/ul><\/li><li><a href="/books/office-and-other/calendars/">Календари<\/a><\/li><li><a href="/books/office-and-other/magazines-newspapers/">Журналы, газеты<\/a><\/li><\/ul><\/li><\/ul>',mbMenu.loadFromFullHtmlString(html_m),mbMenu.renderTo($("#mobilemenu1"),"mb_menu"),mbMenu.openRow(window.location.pathname,"red"));window.SendPageEventsVK=function(){var n,i,u,r,t;try{if(window.MbPageInfo){if(n=window.MbPageInfo,n.VkDinRetPriceId&&n.VkDinRetPriceId.length>0)if(n.PageTypeStr=="Product"&&n.CatalogType==0)n.Products&&(i=n.Products[0],i.SendVk&&(t={products:GetProductsForVk(n.Products),business_value:1e3,currency_code:"RUR",category_ids:i.CategoryId},i.VkRecommendedIds&&i.VkRecommendedIds.length>0&&(t.products_recommended_ids=i.VkRecommendedIds),n.R46SearchString&&n.R46SearchString.length>0&&(t.search_string=n.R46SearchString),VK.Retargeting.ProductEvent(n.VkDinRetPriceId,"view_product",t)));else if(n.PageTypeStr=="Search"&&n.CatalogType==0)n.Products&&(t={products:GetProductsForVk(n.Products),business_value:1e3,currency_code:"RUR"},n.R46SearchString&&n.R46SearchString.length>0&&(t.search_string=n.R46SearchString),VK.Retargeting.ProductEvent(n.VkDinRetPriceId,"view_search",t));else if((n.PageTypeStr=="Home"||n.PageTypeStr=="Category")&&n.CatalogType==0){var o=n.PageTypeStr=="Home"?"view_home":"view_category",f="",e=GetProductsForVk(n.Products);if(e.length<1)return;if(n.ProductCategories&&(u=n.ProductCategories.length,u>0))for(r=0;r<u;r++)f+=n.ProductCategories[r],r<u-1&&(f+=",");t={products:e,business_value:1e3,currency_code:"RUR",category_ids:f};n.R46SearchString&&n.R46SearchString.length>0&&(t.search_string=n.R46SearchString);VK.Retargeting.ProductEvent(n.VkDinRetPriceId,o,t)}else n.PageTypeStr=="Cart"&&n.Event?n.Event=="Basket_Remove"&&(t={products:[{id:n.Products[0].SeoId}]},VK.Retargeting.ProductEvent(n.VkDinRetPriceId,"remove_from_cart",t)):n.PageTypeStr=="OrderForm"&&n.Event?n.Event=="Create"&&(t={products:GetProductsForVk(n.Products),business_value:1e3,currency_code:"RUR"},VK.Retargeting.ProductEvent(n.VkDinRetPriceId,"init_checkout",t)):VK.Retargeting.ProductEvent(n.VkDinRetPriceId,"view_other","")}else VK.Retargeting.ProductEvent(5178,"view_other","")}catch(s){}};window.SendPageEventsR46=function(){var n,t,i;try{window.MbPageInfo&&(n=window.MbPageInfo,n.PageTypeStr=="Product"?n.Products&&(t=n.Products[0],i={id:t.SeoId,stock:t.Stock>0?!0:!1},window.r46("track","view",i)):n.PageTypeStr=="Category"?window.r46("track","category",n.ParentCategory):n.PageTypeStr=="Cart"&&n.Event&&n.Event.length>0&&n.Event=="Basket_Remove"&&window.r46("track","remove_from_cart",n.Products[0].SeoId))}catch(r){}};window.Add_to_cart_send_event=function(n,t){r46("track","cart",getSeoId(n,t));vk_click_send_event(n,t,"add_to_cart")};window.Add_to_wish_send_event=function(n,t){vk_click_send_event(n,t,"add_to_wishlist")};window.Remove_from_wish_send_event=function(n,t){vk_click_send_event(n,t,"remove_from_wishlist")};window.Add_payment_info_send_event=function(){var t,n,i;try{if(t=$("#add_payment_info_sent").val()=="1",!t&&window.MbPageInfo){n=window.MbPageInfo;i={products:GetProductsForVk(n.Products),business_value:1e3,currency_code:"RUR"};$("#add_payment_info_sent").val("1");try{VK.Retargeting.ProductEvent(n.VkDinRetPriceId,"add_payment_info",i)}catch(r){}}}catch(r){}};window.Purchase_send_event=function(n){var t,u;try{if(window.MbPageInfo&&window.MbPageInfo.Basket){var i=window.MbPageInfo,f=[],e=0,s=i.Basket.Items.length;for(t=0;t<s;t++){var r=i.Basket.Items[t].product,o=i.Basket.Items[t].quantity,h={id:r.SeoId,price:r.UnitPrice,amount:o};e+=r.UnitPrice*o;f.push(h)}try{window.r46("track","purchase",{products:f,order:n,order_price:e})}catch(c){}try{u={products:GetProductsForVk(i.Products),business_value:1e3,currency_code:"RUR"};VK.Retargeting.ProductEvent(i.VkDinRetPriceId,"purchase",u)}catch(c){}}}catch(c){}};!function(n,t,i,r){function u(t,i){this.settings=null;this.options=n.extend({},u.Defaults,i);this.$element=n(t);this._handlers={};this._plugins={};this._supress={};this._current=null;this._speed=null;this._coordinates=[];this._breakpoint=null;this._width=null;this._items=[];this._clones=[];this._mergers=[];this._widths=[];this._invalidated={};this._pipe=[];this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null};this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};n.each(["onResize","onThrottledResize"],n.proxy(function(t,i){this._handlers[i]=n.proxy(this[i],this)},this));n.each(u.Plugins,n.proxy(function(n,t){this._plugins[n.charAt(0).toLowerCase()+n.slice(1)]=new t(this)},this));n.each(u.Workers,n.proxy(function(t,i){this._pipe.push({filter:i.filter,run:n.proxy(i.run,this)})},this));this.setup();this.initialize()}u.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:t,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"};u.Width={Default:"default",Inner:"inner",Outer:"outer"};u.Type={Event:"event",State:"state"};u.Plugins={};u.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(n){n.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(n){var t=this.settings.margin||"",u=!this.settings.autoWidth,i=this.settings.rtl,r={width:"auto","margin-left":i?t:"","margin-right":i?"":t};u||this.$stage.children().css(r);n.css=r}},{filter:["width","items","settings"],run:function(n){var r=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,t=null,i=this._items.length,f=!this.settings.autoWidth,u=[];for(n.items={merge:!1,width:r};i--;)t=this._mergers[i],t=this.settings.mergeFit&&Math.min(t,this.settings.items)||t,n.items.merge=t>1||n.items.merge,u[i]=f?r*t:this._items[i].width();this._widths=u}},{filter:["items","settings"],run:function(){var t=[],i=this._items,r=this.settings,e=Math.max(2*r.items,4),s=2*Math.ceil(i.length/2),u=r.loop&&i.length?r.rewind?e:Math.max(e,s):0,o="",f="";for(u/=2;u>0;)t.push(this.normalize(t.length/2,!0)),o+=i[t[t.length-1]][0].outerHTML,t.push(this.normalize(i.length-1-(t.length-1)/2,!0)),f=i[t[t.length-1]][0].outerHTML+f,u-=1;this._clones=t;n(o).addClass("cloned").appendTo(this.$stage);n(f).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var u=this.settings.rtl?1:-1,f=this._clones.length+this._items.length,n=-1,i=0,r=0,t=[];++n<f;)i=t[n-1]||0,r=this._widths[this.relative(n)]+this.settings.margin,t.push(i+r*u);this._coordinates=t}},{filter:["width","items","settings"],run:function(){var n=this.settings.stagePadding,t=this._coordinates,i={width:Math.ceil(Math.abs(t[t.length-1]))+2*n,"padding-left":n||"","padding-right":n||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(n){var t=this._coordinates.length,i=!this.settings.autoWidth,r=this.$stage.children();if(i&&n.items.merge)for(;t--;)n.css.width=this._widths[this.relative(t)],r.eq(t).css(n.css);else i&&(n.css.width=n.items.width,r.css(n.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(n){n.current=n.current?this.$stage.children().index(n.current):0;n.current=Math.max(this.minimum(),Math.min(this.maximum(),n.current));this.reset(n.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){for(var t,i,f=this.settings.rtl?1:-1,e=2*this.settings.stagePadding,r=this.coordinates(this.current())+e,o=r+this.width()*f,s=[],n=0,u=this._coordinates.length;n<u;n++)t=this._coordinates[n-1]||0,i=Math.abs(this._coordinates[n])+e*f,(this.op(t,"<=",r)&&this.op(t,">",o)||this.op(i,"<",r)&&this.op(i,">",o))&&s.push(n);this.$stage.children(".active").removeClass("active");this.$stage.children(":eq("+s.join("), :eq(")+")").addClass("active");this.$stage.children(".center").removeClass("center");this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}];u.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass);this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=n("<"+this.settings.stageElement+">",{"class":this.settings.stageClass}).wrap(n("<div/>",{"class":this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))};u.prototype.initializeItems=function(){var t=this.$element.find(".owl-item");if(t.length)return this._items=t.get().map(function(t){return n(t)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent()));this.isVisible()?this.refresh():this.invalidate("width");this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)};u.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var n,t,i;n=this.$element.find("img");t=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:r;i=this.$element.children(t).width();n.length&&i<=0&&this.preloadAutoWidthImages(n)}this.initializeStage();this.initializeItems();this.registerEventHandlers();this.leave("initializing");this.trigger("initialized")};u.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")};u.prototype.setup=function(){var u=this.viewport(),r=this.options.responsive,i=-1,t=null;r?(n.each(r,function(n){n<=u&&n>i&&(i=Number(n))}),t=n.extend({},this.options,r[i]),"function"==typeof t.stagePadding&&(t.stagePadding=t.stagePadding()),delete t.responsive,t.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+i))):t=n.extend({},this.options);this.trigger("change",{property:{name:"settings",value:t}});this._breakpoint=i;this.settings=t;this.invalidate("settings");this.trigger("changed",{property:{name:"settings",value:this.settings}})};u.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)};u.prototype.prepare=function(t){var i=this.trigger("prepare",{content:t});return i.data||(i.data=n("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(t)),this.trigger("prepared",{content:i.data}),i.data};u.prototype.update=function(){for(var t=0,i=this._pipe.length,r=n.proxy(function(n){return this[n]},this._invalidated),u={};t<i;)(this._invalidated.all||n.grep(this._pipe[t].filter,r).length>0)&&this._pipe[t].run(u),t++;this._invalidated={};this.is("valid")||this.enter("valid")};u.prototype.width=function(n){switch(n=n||u.Width.Default){case u.Width.Inner:case u.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}};u.prototype.refresh=function(){this.enter("refreshing");this.trigger("refresh");this.setup();this.optionsLogic();this.$element.addClass(this.options.refreshClass);this.update();this.$element.removeClass(this.options.refreshClass);this.leave("refreshing");this.trigger("refreshed")};u.prototype.onThrottledResize=function(){t.clearTimeout(this.resizeTimer);this.resizeTimer=t.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)};u.prototype.onResize=function(){return!!this._items.length&&this._width!==this.$element.width()&&!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))};u.prototype.registerEventHandlers=function(){n.support.transition&&this.$stage.on(n.support.transition.end+".owl.core",n.proxy(this.onTransitionEnd,this));!1!==this.settings.responsive&&this.on(t,"resize",this._handlers.onThrottledResize);this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",n.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1}));this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",n.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",n.proxy(this.onDragEnd,this)))};u.prototype.onDragStart=function(t){var r=null;3!==t.which&&(n.support.transform?(r=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),r={x:r[16===r.length?12:4],y:r[16===r.length?13:5]}):(r=this.$stage.position(),r={x:this.settings.rtl?r.left+this.$stage.width()-this.width()+this.settings.margin:r.left,y:r.top}),this.is("animating")&&(n.support.transform?this.animate(r.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===t.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=n(t.target),this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this.pointer(t),n(i).on("mouseup.owl.core touchend.owl.core",n.proxy(this.onDragEnd,this)),n(i).one("mousemove.owl.core touchmove.owl.core",n.proxy(function(t){var r=this.difference(this._drag.pointer,this.pointer(t));n(i).on("mousemove.owl.core touchmove.owl.core",n.proxy(this.onDragMove,this));Math.abs(r.x)<Math.abs(r.y)&&this.is("valid")||(t.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))};u.prototype.onDragMove=function(n){var t=null,i=null,u=null,f=this.difference(this._drag.pointer,this.pointer(n)),r=this.difference(this._drag.stage.start,f);this.is("dragging")&&(n.preventDefault(),this.settings.loop?(t=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-t,r.x=((r.x-t)%i+i)%i+t):(t=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),u=this.settings.pullDrag?f.x/-5:0,r.x=Math.max(Math.min(r.x,t+u),i+u)),this._drag.stage.current=r,this.animate(r.x))};u.prototype.onDragEnd=function(t){var r=this.difference(this._drag.pointer,this.pointer(t)),f=this._drag.stage.current,u=r.x>0^this.settings.rtl?"left":"right";n(i).off(".owl.core");this.$element.removeClass(this.options.grabClass);(0!==r.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(f.x,0!==r.x?u:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=u,(Math.abs(r.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1}));this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))};u.prototype.closest=function(t,i){var u=-1,e=30,o=this.width(),f=this.coordinates();return this.settings.freeDrag||n.each(f,n.proxy(function(n,s){return"left"===i&&t>s-e&&t<s+e?u=n:"right"===i&&t>s-o-e&&t<s-o+e?u=n+1:this.op(t,"<",s)&&this.op(t,">",f[n+1]!==r?f[n+1]:s-o)&&(u="left"===i?n+1:n),-1===u},this)),this.settings.loop||(this.op(t,">",f[this.minimum()])?u=t=this.minimum():this.op(t,"<",f[this.maximum()])&&(u=t=this.maximum())),u};u.prototype.animate=function(t){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd();i&&(this.enter("animating"),this.trigger("translate"));n.support.transform3d&&n.support.transition?this.$stage.css({transform:"translate3d("+t+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:t+"px"},this.speed(),this.settings.fallbackEasing,n.proxy(this.onTransitionEnd,this)):this.$stage.css({left:t+"px"})};u.prototype.is=function(n){return this._states.current[n]&&this._states.current[n]>0};u.prototype.current=function(n){if(n===r)return this._current;if(0===this._items.length)return r;if(n=this.normalize(n),this._current!==n){var t=this.trigger("change",{property:{name:"position",value:n}});t.data!==r&&(n=this.normalize(t.data));this._current=n;this.invalidate("position");this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current};u.prototype.invalidate=function(t){return"string"===n.type(t)&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),n.map(this._invalidated,function(n,t){return t})};u.prototype.reset=function(n){(n=this.normalize(n))!==r&&(this._speed=0,this._current=n,this.suppress(["translate","translated"]),this.animate(this.coordinates(n)),this.release(["translate","translated"]))};u.prototype.normalize=function(n,t){var i=this._items.length,u=t?0:this._clones.length;return!this.isNumeric(n)||i<1?n=r:(n<0||n>=i+u)&&(n=((n-u/2)%i+i)%i+u/2),n};u.prototype.relative=function(n){return n-=this._clones.length/2,this.normalize(n,!0)};u.prototype.maximum=function(n){var t,u,f,i=this.settings,r=this._coordinates.length;if(i.loop)r=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){if(t=this._items.length)for(u=this._items[--t].width(),f=this.$element.width();t--&&!((u+=this._items[t].width()+this.settings.margin)>f););r=t+1}else r=i.center?this._items.length-1:this._items.length-i.items;return n&&(r-=this._clones.length/2),Math.max(r,0)};u.prototype.minimum=function(n){return n?0:this._clones.length/2};u.prototype.items=function(n){return n===r?this._items.slice():(n=this.normalize(n,!0),this._items[n])};u.prototype.mergers=function(n){return n===r?this._mergers.slice():(n=this.normalize(n,!0),this._mergers[n])};u.prototype.clones=function(t){var i=this._clones.length/2,f=i+this._items.length,u=function(n){return n%2==0?f+n/2:i-(n+1)/2};return t===r?n.map(this._clones,function(n,t){return u(t)}):n.map(this._clones,function(n,i){return n===t?u(i):null})};u.prototype.speed=function(n){return n!==r&&(this._speed=n),this._speed};u.prototype.coordinates=function(t){var i,f=1,u=t-1;return t===r?n.map(this._coordinates,n.proxy(function(n,t){return this.coordinates(t)},this)):(this.settings.center?(this.settings.rtl&&(f=-1,u=t+1),i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[u]||0))/2*f):i=this._coordinates[u]||0,i=Math.ceil(i))};u.prototype.duration=function(n,t,i){return 0===i?0:Math.min(Math.max(Math.abs(t-n),1),6)*Math.abs(i||this.settings.smartSpeed)};u.prototype.to=function(n,t){var u=this.current(),f=null,i=n-this.relative(u),s=(i>0)-(i<0),e=this._items.length,o=this.minimum(),r=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(i)>e/2&&(i+=-1*s*e),n=u+i,(f=((n-o)%e+e)%e+o)!==n&&f-i<=r&&f-i>0&&(u=f-i,n=f,this.reset(u))):this.settings.rewind?(r+=1,n=(n%r+r)%r):n=Math.max(o,Math.min(r,n));this.speed(this.duration(u,n,t));this.current(n);this.isVisible()&&this.update()};u.prototype.next=function(n){n=n||!1;this.to(this.relative(this.current())+1,n)};u.prototype.prev=function(n){n=n||!1;this.to(this.relative(this.current())-1,n)};u.prototype.onTransitionEnd=function(n){if(n!==r&&(n.stopPropagation(),(n.target||n.srcElement||n.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating");this.trigger("translated")};u.prototype.viewport=function(){var r;return this.options.responsiveBaseElement!==t?r=n(this.options.responsiveBaseElement).width():t.innerWidth?r=t.innerWidth:i.documentElement&&i.documentElement.clientWidth?r=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),r};u.prototype.replace=function(t){this.$stage.empty();this._items=[];t&&(t=t instanceof jQuery?t:n(t));this.settings.nestedItemSelector&&(t=t.find("."+this.settings.nestedItemSelector));t.filter(function(){return 1===this.nodeType}).each(n.proxy(function(n,t){t=this.prepare(t);this.$stage.append(t);this._items.push(t);this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this));this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0);this.invalidate("items")};u.prototype.add=function(t,i){var u=this.relative(this._current);i=i===r?this._items.length:this.normalize(i,!0);t=t instanceof jQuery?t:n(t);this.trigger("add",{content:t,position:i});t=this.prepare(t);0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(t),0!==this._items.length&&this._items[i-1].after(t),this._items.push(t),this._mergers.push(1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(t),this._items.splice(i,0,t),this._mergers.splice(i,0,1*t.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1));this._items[u]&&this.reset(this._items[u].index());this.invalidate("items");this.trigger("added",{content:t,position:i})};u.prototype.remove=function(n){(n=this.normalize(n,!0))!==r&&(this.trigger("remove",{content:this._items[n],position:n}),this._items[n].remove(),this._items.splice(n,1),this._mergers.splice(n,1),this.invalidate("items"),this.trigger("removed",{content:null,position:n}))};u.prototype.preloadAutoWidthImages=function(t){t.each(n.proxy(function(t,i){this.enter("pre-loading");i=n(i);n(new Image).one("load",n.proxy(function(n){i.attr("src",n.target.src);i.css("opacity",1);this.leave("pre-loading");!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))};u.prototype.destroy=function(){this.$element.off(".owl.core");this.$stage.off(".owl.core");n(i).off(".owl.core");!1!==this.settings.responsive&&(t.clearTimeout(this.resizeTimer),this.off(t,"resize",this._handlers.onThrottledResize));for(var r in this._plugins)this._plugins[r].destroy();this.$stage.children(".cloned").remove();this.$stage.unwrap();this.$stage.children().contents().unwrap();this.$stage.children().unwrap();this.$stage.remove();this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")};u.prototype.op=function(n,t,i){var r=this.settings.rtl;switch(t){case"<":return r?n>i:n<i;case">":return r?n<i:n>i;case">=":return r?n<=i:n>=i;case"<=":return r?n>=i:n<=i}};u.prototype.on=function(n,t,i,r){n.addEventListener?n.addEventListener(t,i,r):n.attachEvent&&n.attachEvent("on"+t,i)};u.prototype.off=function(n,t,i,r){n.removeEventListener?n.removeEventListener(t,i,r):n.detachEvent&&n.detachEvent("on"+t,i)};u.prototype.trigger=function(t,i,r){var o={item:{count:this._items.length,index:this.current()}},e=n.camelCase(n.grep(["on",t,r],function(n){return n}).join("-").toLowerCase()),f=n.Event([t,"owl",r||"carousel"].join(".").toLowerCase(),n.extend({relatedTarget:this},o,i));return this._supress[t]||(n.each(this._plugins,function(n,t){t.onTrigger&&t.onTrigger(f)}),this.register({type:u.Type.Event,name:t}),this.$element.trigger(f),this.settings&&"function"==typeof this.settings[e]&&this.settings[e].call(this,f)),f};u.prototype.enter=function(t){n.each([t].concat(this._states.tags[t]||[]),n.proxy(function(n,t){this._states.current[t]===r&&(this._states.current[t]=0);this._states.current[t]++},this))};u.prototype.leave=function(t){n.each([t].concat(this._states.tags[t]||[]),n.proxy(function(n,t){this._states.current[t]--},this))};u.prototype.register=function(t){if(t.type===u.Type.Event){if(n.event.special[t.name]||(n.event.special[t.name]={}),!n.event.special[t.name].owl){var i=n.event.special[t.name]._default;n.event.special[t.name]._default=function(n){return!i||!i.apply||n.namespace&&-1!==n.namespace.indexOf("owl")?n.namespace&&n.namespace.indexOf("owl")>-1:i.apply(this,arguments)};n.event.special[t.name].owl=!0}}else t.type===u.Type.State&&(this._states.tags[t.name]=this._states.tags[t.name]?this._states.tags[t.name].concat(t.tags):t.tags,this._states.tags[t.name]=n.grep(this._states.tags[t.name],n.proxy(function(i,r){return n.inArray(i,this._states.tags[t.name])===r},this)))};u.prototype.suppress=function(t){n.each(t,n.proxy(function(n,t){this._supress[t]=!0},this))};u.prototype.release=function(t){n.each(t,n.proxy(function(n,t){delete this._supress[t]},this))};u.prototype.pointer=function(n){var i={x:null,y:null};return n=n.originalEvent||n||t.event,n=n.touches&&n.touches.length?n.touches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,n.pageX?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i};u.prototype.isNumeric=function(n){return!isNaN(parseFloat(n))};u.prototype.difference=function(n,t){return{x:n.x-t.x,y:n.y-t.y}};n.fn.owlCarousel=function(t){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var f=n(this),r=f.data("owl.carousel");r||(r=new u(this,"object"==typeof t&&t),f.data("owl.carousel",r),n.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(t,i){r.register({type:u.Type.Event,name:i});r.$element.on(i+".owl.carousel.core",n.proxy(function(n){n.namespace&&n.relatedTarget!==this&&(this.suppress([i]),r[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},r))}));"string"==typeof t&&"_"!==t.charAt(0)&&r[t].apply(r,i)})};n.fn.owlCarousel.Constructor=u}(window.Zepto||window.jQuery,window,document),function(n,t){var i=function(t){this._core=t;this._interval=null;this._visible=null;this._handlers={"initialized.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.autoRefresh&&this.watch()},this)};this._core.options=n.extend({},i.Defaults,this._core.options);this._core.$element.on(this._handlers)};i.Defaults={autoRefresh:!0,autoRefreshInterval:500};i.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=t.setInterval(n.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))};i.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())};i.prototype.destroy=function(){var n,i;t.clearInterval(this._interval);for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)};n.fn.owlCarousel.Constructor.Plugins.AutoRefresh=i}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){var u=function(t){this._core=t;this._loaded=[];this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":n.proxy(function(t){if(t.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(t.property&&"position"==t.property.name||"initialized"==t.type)){var i=this._core.settings,u=i.center&&Math.ceil(i.items/2)||i.items,e=i.center&&-1*u||0,f=(t.property&&t.property.value!==r?t.property.value:this._core.current())+e,o=this._core.clones().length,s=n.proxy(function(n,t){this.load(t)},this);for(i.lazyLoadEager>0&&(u+=i.lazyLoadEager,i.loop&&(f-=i.lazyLoadEager,u++));e++<u;)this.load(o/2+this._core.relative(f)),o&&n.each(this._core.clones(this._core.relative(f)),s),f++}},this)};this._core.options=n.extend({},u.Defaults,this._core.options);this._core.$element.on(this._handlers)};u.Defaults={lazyLoad:!1,lazyLoadEager:0};u.prototype.load=function(i){var r=this._core.$stage.children().eq(i),u=r&&r.find(".owl-lazy");!u||n.inArray(r.get(0),this._loaded)>-1||(u.each(n.proxy(function(i,r){var e,u=n(r),f=t.devicePixelRatio>1&&u.attr("data-src-retina")||u.attr("data-src")||u.attr("data-srcset");this._core.trigger("load",{element:u,url:f},"lazy");u.is("img")?u.one("load.owl.lazy",n.proxy(function(){u.css("opacity",1);this._core.trigger("loaded",{element:u,url:f},"lazy")},this)).attr("src",f):u.is("source")?u.one("load.owl.lazy",n.proxy(function(){this._core.trigger("loaded",{element:u,url:f},"lazy")},this)).attr("srcset",f):(e=new Image,e.onload=n.proxy(function(){u.css({"background-image":'url("'+f+'")',opacity:"1"});this._core.trigger("loaded",{element:u,url:f},"lazy")},this),e.src=f)},this)),this._loaded.push(r.get(0)))};u.prototype.destroy=function(){var n,t;for(n in this.handlers)this._core.$element.off(n,this.handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Lazy=u}(window.Zepto||window.jQuery,window,document),function(n,t){var i=function(r){this._core=r;this._previousHeight=null;this._handlers={"initialized.owl.carousel refreshed.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.autoHeight&&"position"===n.property.name&&this.update()},this),"loaded.owl.lazy":n.proxy(function(n){n.namespace&&this._core.settings.autoHeight&&n.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)};this._core.options=n.extend({},i.Defaults,this._core.options);this._core.$element.on(this._handlers);this._intervalId=null;var u=this;n(t).on("load",function(){u._core.settings.autoHeight&&u.update()});n(t).resize(function(){u._core.settings.autoHeight&&(null!=u._intervalId&&clearTimeout(u._intervalId),u._intervalId=setTimeout(function(){u.update()},250))})};i.Defaults={autoHeight:!1,autoHeightClass:"owl-height"};i.prototype.update=function(){var i=this._core._current,u=i+this._core.settings.items,f=this._core.settings.lazyLoad,e=this._core.$stage.children().toArray().slice(i,u),r=[],t=0;n.each(e,function(t,i){r.push(n(i).height())});t=Math.max.apply(null,r);t<=1&&f&&this._previousHeight&&(t=this._previousHeight);this._previousHeight=t;this._core.$stage.parent().height(t).addClass(this._core.settings.autoHeightClass)};i.prototype.destroy=function(){var n,t;for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.AutoHeight=i}(window.Zepto||window.jQuery,window,document),function(n,t,i){var r=function(t){this._core=t;this._videos={};this._playing=null;this._handlers={"initialized.owl.carousel":n.proxy(function(n){n.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.video&&this.isInFullScreen()&&n.preventDefault()},this),"refreshed.owl.carousel":n.proxy(function(n){n.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":n.proxy(function(n){n.namespace&&"position"===n.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":n.proxy(function(t){if(t.namespace){var i=n(t.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,n(t.content)))}},this)};this._core.options=n.extend({},r.Defaults,this._core.options);this._core.$element.on(this._handlers);this._core.$element.on("click.owl.video",".owl-video-play-icon",n.proxy(function(n){this.play(n)},this))};r.Defaults={video:!1,videoHeight:!1,videoWidth:!1};r.prototype.fetch=function(n,t){var u=function(){return n.attr("data-vimeo-id")?"vimeo":n.attr("data-vzaar-id")?"vzaar":"youtube"}(),i=n.attr("data-vimeo-id")||n.attr("data-youtube-id")||n.attr("data-vzaar-id"),f=n.attr("data-width")||this._core.settings.videoWidth,e=n.attr("data-height")||this._core.settings.videoHeight,r=n.attr("href");if(!r)throw new Error("Missing video URL.");if(i=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),i[3].indexOf("youtu")>-1)u="youtube";else if(i[3].indexOf("vimeo")>-1)u="vimeo";else{if(!(i[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");u="vzaar"}i=i[6];this._videos[r]={type:u,id:i,width:f,height:e};t.attr("data-video",r);this.thumbnail(n,this._videos[r])};r.prototype.thumbnail=function(t,i){var e,o,r,c=i.width&&i.height?"width:"+i.width+"px;height:"+i.height+"px;":"",f=t.find("img"),s="src",h="",l=this._core.settings,u=function(i){o='<div class="owl-video-play-icon"><\/div>';e=l.lazyLoad?n("<div/>",{"class":"owl-video-tn "+h,srcType:i}):n("<div/>",{"class":"owl-video-tn",style:"opacity:1;background-image:url("+i+")"});t.after(e);t.after(o)};if(t.wrap(n("<div/>",{"class":"owl-video-wrapper",style:c})),this._core.settings.lazyLoad&&(s="data-src",h="owl-lazy"),f.length)return u(f.attr(s)),f.remove(),!1;"youtube"===i.type?(r="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",u(r)):"vimeo"===i.type?n.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(n){r=n[0].thumbnail_large;u(r)}}):"vzaar"===i.type&&n.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(n){r=n.framegrab_url;u(r)}})};r.prototype.stop=function(){this._core.trigger("stop",null,"video");this._playing.find(".owl-video-frame").remove();this._playing.removeClass("owl-video-playing");this._playing=null;this._core.leave("playing");this._core.trigger("stopped",null,"video")};r.prototype.play=function(t){var r,f=n(t.target),u=f.closest("."+this._core.settings.itemClass),i=this._videos[u.attr("data-video")],e=i.width||"100%",o=i.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),u=this._core.items(this._core.relative(u.index())),this._core.reset(u.index()),r=n('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ><\/iframe>'),r.attr("height",o),r.attr("width",e),"youtube"===i.type?r.attr("src","//www.youtube.com/embed/"+i.id+"?autoplay=1&rel=0&v="+i.id):"vimeo"===i.type?r.attr("src","//player.vimeo.com/video/"+i.id+"?autoplay=1"):"vzaar"===i.type&&r.attr("src","//view.vzaar.com/"+i.id+"/player?autoplay=true"),n(r).wrap('<div class="owl-video-frame" />').insertAfter(u.find(".owl-video")),this._playing=u.addClass("owl-video-playing"))};r.prototype.isInFullScreen=function(){var t=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return t&&n(t).parent().hasClass("owl-video-frame")};r.prototype.destroy=function(){var n,t;this._core.$element.off("click.owl.video");for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Video=r}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){var u=function(t){this.core=t;this.core.options=n.extend({},u.Defaults,this.core.options);this.swapping=!0;this.previous=r;this.next=r;this.handlers={"change.owl.carousel":n.proxy(function(n){n.namespace&&"position"==n.property.name&&(this.previous=this.core.current(),this.next=n.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":n.proxy(function(n){n.namespace&&(this.swapping="translated"==n.type)},this),"translate.owl.carousel":n.proxy(function(n){n.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)};this.core.$element.on(this.handlers)};u.Defaults={animateOut:!1,animateIn:!1};u.prototype.swap=function(){if(1===this.core.settings.items&&n.support.animation&&n.support.transition){this.core.speed(0);var t,i=n.proxy(this.clear,this),f=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,u=this.core.settings.animateOut;this.core.current()!==this.previous&&(u&&(t=this.core.coordinates(this.previous)-this.core.coordinates(this.next),f.one(n.support.animation.end,i).css({left:t+"px"}).addClass("animated owl-animated-out").addClass(u)),r&&e.one(n.support.animation.end,i).addClass("animated owl-animated-in").addClass(r))}};u.prototype.clear=function(t){n(t.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut);this.core.onTransitionEnd()};u.prototype.destroy=function(){var n,t;for(n in this.handlers)this.core.$element.off(n,this.handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.Animate=u}(window.Zepto||window.jQuery,window,document),function(n,t,i){var r=function(t){this._core=t;this._call=null;this._time=0;this._timeout=0;this._paused=!0;this._handlers={"changed.owl.carousel":n.proxy(function(n){n.namespace&&"settings"===n.property.name?this._core.settings.autoplay?this.play():this.stop():n.namespace&&"position"===n.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":n.proxy(function(n,t,i){n.namespace&&this.play(t,i)},this),"stop.owl.autoplay":n.proxy(function(n){n.namespace&&this.stop()},this),"mouseover.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":n.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)};this._core.$element.on(this._handlers);this._core.options=n.extend({},r.Defaults,this._core.options)};r.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1};r.prototype._next=function(r){this._call=t.setTimeout(n.proxy(this._next,this,r),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read());this._core.is("interacting")||i.hidden||this._core.next(r||this._core.settings.autoplaySpeed)};r.prototype.read=function(){return(new Date).getTime()-this._time};r.prototype.play=function(i,r){var u;this._core.is("rotating")||this._core.enter("rotating");i=i||this._core.settings.autoplayTimeout;u=Math.min(this._time%(this._timeout||i),i);this._paused?(this._time=this.read(),this._paused=!1):t.clearTimeout(this._call);this._time+=this.read()%i-u;this._timeout=i;this._call=t.setTimeout(n.proxy(this._next,this,r),i-u)};r.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,t.clearTimeout(this._call),this._core.leave("rotating"))};r.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,t.clearTimeout(this._call))};r.prototype.destroy=function(){var n,t;this.stop();for(n in this._handlers)this._core.$element.off(n,this._handlers[n]);for(t in Object.getOwnPropertyNames(this))"function"!=typeof this[t]&&(this[t]=null)};n.fn.owlCarousel.Constructor.Plugins.autoplay=r}(window.Zepto||window.jQuery,window,document),function(n){"use strict";var t=function(i){this._core=i;this._initialized=!1;this._pages=[];this._controls={};this._templates=[];this.$element=this._core.$element;this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to};this._handlers={"prepared.owl.carousel":n.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+n(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"<\/div>")},this),"added.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.dotsData&&this._templates.splice(n.position,0,this._templates.pop())},this),"remove.owl.carousel":n.proxy(function(n){n.namespace&&this._core.settings.dotsData&&this._templates.splice(n.position,1)},this),"changed.owl.carousel":n.proxy(function(n){n.namespace&&"position"==n.property.name&&this.draw()},this),"initialized.owl.carousel":n.proxy(function(n){n.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":n.proxy(function(n){n.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)};this._core.options=n.extend({},t.Defaults,this._core.options);this.$element.on(this._handlers)};t.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;<\/span>','<span aria-label="Next">&#x203a;<\/span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1};t.prototype.initialize=function(){var i,t=this._core.settings;this._controls.$relative=(t.navContainer?n(t.navContainer):n("<div>").addClass(t.navContainerClass).appendTo(this.$element)).addClass("disabled");this._controls.$previous=n("<"+t.navElement+">").addClass(t.navClass[0]).html(t.navText[0]).prependTo(this._controls.$relative).on("click",n.proxy(function(){this.prev(t.navSpeed)},this));this._controls.$next=n("<"+t.navElement+">").addClass(t.navClass[1]).html(t.navText[1]).appendTo(this._controls.$relative).on("click",n.proxy(function(){this.next(t.navSpeed)},this));t.dotsData||(this._templates=[n('<button role="button">').addClass(t.dotClass).append(n("<span>")).prop("outerHTML")]);this._controls.$absolute=(t.dotsContainer?n(t.dotsContainer):n("<div>").addClass(t.dotsClass).appendTo(this.$element)).addClass("disabled");this._controls.$absolute.on("click","button",n.proxy(function(i){var r=n(i.target).parent().is(this._controls.$absolute)?n(i.target).index():n(i.target).parent().index();i.preventDefault();this.to(r,t.dotsSpeed)},this));for(i in this._overrides)this._core[i]=n.proxy(this[i],this)};t.prototype.destroy=function(){var t,n,i,r,u=this._core.settings;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(n in this._controls)"$relative"===n&&u.navContainer?this._controls[n].html(""):this._controls[n].remove();for(r in this.overides)this._core[r]=this._overrides[r];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)};t.prototype.update=function(){var t,i,f,r=this._core.clones().length/2,o=r+this._core.items().length,u=this._core.maximum(!0),n=this._core.settings,e=n.center||n.autoWidth||n.dotsData?1:n.dotsEach||n.items;if("page"!==n.slideBy&&(n.slideBy=Math.min(n.slideBy,n.items)),n.dots||"page"==n.slideBy)for(this._pages=[],t=r,i=0,f=0;t<o;t++){if(i>=e||0===i){if(this._pages.push({start:Math.min(u,t-r),end:t-r+e-1}),Math.min(u,t-r)===u)break;i=0;++f}i+=this._core.mergers(this._core.relative(t))}};t.prototype.draw=function(){var i,t=this._core.settings,r=this._core.items().length<=t.items,u=this._core.relative(this._core.current()),f=t.loop||t.rewind;this._controls.$relative.toggleClass("disabled",!t.nav||r);t.nav&&(this._controls.$previous.toggleClass("disabled",!f&&u<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!f&&u>=this._core.maximum(!0)));this._controls.$absolute.toggleClass("disabled",!t.dots||r);t.dots&&(i=this._pages.length-this._controls.$absolute.children().length,t.dotsData&&0!==i?this._controls.$absolute.html(this._templates.join("")):i>0?this._controls.$absolute.append(new Array(i+1).join(this._templates[0])):i<0&&this._controls.$absolute.children().slice(i).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(n.inArray(this.current(),this._pages)).addClass("active"))};t.prototype.onTrigger=function(t){var i=this._core.settings;t.page={index:n.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}};t.prototype.current=function(){var t=this._core.relative(this._core.current());return n.grep(this._pages,n.proxy(function(n){return n.start<=t&&n.end>=t},this)).pop()};t.prototype.getPosition=function(t){var i,r,u=this._core.settings;return"page"==u.slideBy?(i=n.inArray(this.current(),this._pages),r=this._pages.length,t?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this._core.relative(this._core.current()),r=this._core.items().length,t?i+=u.slideBy:i-=u.slideBy),i};t.prototype.next=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!0),t)};t.prototype.prev=function(t){n.proxy(this._overrides.to,this._core)(this.getPosition(!1),t)};t.prototype.to=function(t,i,r){var u;!r&&this._pages.length?(u=this._pages.length,n.proxy(this._overrides.to,this._core)(this._pages[(t%u+u)%u].start,i)):n.proxy(this._overrides.to,this._core)(t,i)};n.fn.owlCarousel.Constructor.Plugins.Navigation=t}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){"use strict";var u=function(i){this._core=i;this._hashes={};this.$element=this._core.$element;this._handlers={"initialized.owl.carousel":n.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&n(t).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":n.proxy(function(t){if(t.namespace){var i=n(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=t.content}},this),"changed.owl.carousel":n.proxy(function(i){if(i.namespace&&"position"===i.property.name){var u=this._core.items(this._core.relative(this._core.current())),r=n.map(this._hashes,function(n,t){return n===u?t:null}).join();if(!r||t.location.hash.slice(1)===r)return;t.location.hash=r}},this)};this._core.options=n.extend({},u.Defaults,this._core.options);this.$element.on(this._handlers);n(t).on("hashchange.owl.navigation",n.proxy(function(){var i=t.location.hash.substring(1),u=this._core.$stage.children(),n=this._hashes[i]&&u.index(this._hashes[i]);n!==r&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};u.Defaults={URLhashListener:!1};u.prototype.destroy=function(){var i,r;n(t).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(r in Object.getOwnPropertyNames(this))"function"!=typeof this[r]&&(this[r]=null)};n.fn.owlCarousel.Constructor.Plugins.Hash=u}(window.Zepto||window.jQuery,window,document),function(n,t,i,r){function u(t,i){var u=!1,f=t.charAt(0).toUpperCase()+t.slice(1);return n.each((t+" "+h.join(f+" ")+f).split(" "),function(n,t){if(s[t]!==r)return u=!i||t,!1}),u}function e(n){return u(n,!0)}var s=n("<support>").get(0).style,h="Webkit Moz O ms".split(" "),o={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},f={csstransforms:function(){return!!u("transform")},csstransforms3d:function(){return!!u("perspective")},csstransitions:function(){return!!u("transition")},cssanimations:function(){return!!u("animation")}};f.csstransitions()&&(n.support.transition=new String(e("transition")),n.support.transition.end=o.transition.end[n.support.transition]);f.cssanimations()&&(n.support.animation=new String(e("animation")),n.support.animation.end=o.animation.end[n.support.animation]);f.csstransforms()&&(n.support.transform=new String(e("transform")),n.support.transform3d=f.csstransforms3d())}(window.Zepto||window.jQuery,window,document)